(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"0WSl":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var o=n("E9Wd"),r="".concat(o.I,"/account/messages"),i="".concat(o.I,"/upload")},4661:function(e,t,n){e.exports=n.p+"desktop-assets/Navbar-logo.9c748ecccb607d5f3f00d7eee7a22f42.svg"},"7tjL":function(e,t,n){},"92em":function(e,t,n){},"BuJ/":function(e,t,n){},LZBw:function(e,t,n){"use strict";var o=n("q1tI"),p=n.n(o),r=(n("17x9"),n("/MKj")),i=n("WSv3"),l=n("E9Wd"),f=n("G5ih"),a=n("TSYQ"),d=n.n(a),c=n("0WSl"),m=n("7oyi"),b=n("pNV7");n("X+lB");function s(e){var t=e.unseen,n=e.onClick,o=d()({NavbarMessageButton:!0,"notification-dot":0<t,"ProfileNavbar-item":!0,uScaleTransition:!0});return p.a.createElement(m.b,{className:o,href:c.a,onClick:n,title:Object(f.a)("labelChat"),imageSrc:b.a[b.c]})}s.__docgenInfo={description:"",methods:[],displayName:"NavbarMessageButton",props:{unseen:{type:{name:"number"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}};var y=n("lZex"),u=n("JzwX"),h=n("xypG"),g=n("qh6O"),v=n("VJ7e");n("7tjL");function N(e){var t=e.notification;if(!t)return null;var n,o=[],r=t.get("text"),i=t.get("id"),a=0,c="",s="",u=[];return t.getIn(["annotations","mention"]).forEach(function(e){u=e.get("indices"),c=r.substr(a,u.get(0)),s=r.substr(u.get(0),u.get(1)-u.get(0)),o.push(p.a.createElement("span",{key:"".concat(c,"-").concat(i)},c)),o.push(p.a.createElement("strong",{className:"NotificationCardText-annotation",key:"".concat(s,"-").concat(i)},s)),a=u.get(1)}),n=r.substr(a),o.push(p.a.createElement("span",{key:"".concat(n,"-").concat(i)},n)),p.a.createElement("div",{className:"NotificationCardText"},o)}N.__docgenInfo={description:"",methods:[],displayName:"NotificationCardText",props:{notification:{type:{name:"object"},required:!1,description:""}}};n("BuJ/");function w(e){var t=e.notification;if(!t)return null;var n=new Date(1e3*t.get("updated_at")),o=t.getIn(["image","url"]),r=d()({"NotificationCard-thumb":!0,isUnread:t.get("state")!==v.a});return p.a.createElement("a",{href:function(e,t){if(!e)return"";var n=e.replace("imgur:","");return"".concat(n,"?nid=").concat(t)}(t.get("action"),t.get("id")),className:"NotificationCard"},p.a.createElement("div",{className:r},p.a.createElement("img",{className:"NotificationCard-dot",src:o})),p.a.createElement(N,{notification:t}),p.a.createElement(g.a,{className:"When--notificationCard",date:n}))}w.__docgenInfo={description:"",methods:[],displayName:"NotificationCard",props:{notification:{type:{name:"object"},required:!1,description:""}}};n("aYmD");function O(e){return/firefox/.test(e.toLowerCase())}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){function i(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return _(S(t=function(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?S(e):t}(this,(e=k(i)).call.apply(e,[this].concat(o)))),"state",{scrollBarWidth:0}),_(S(t),"container",null),_(S(t),"isStyler",!1),_(S(t),"removeListenerResize",null),_(S(t),"getReference",function(e){(t.container=e)&&t.updateScrollStyler()}),_(S(t),"updateScrollStyler",function(){var e=t.container.offsetWidth-t.container.clientWidth;t.state.scrollBarWidth!==e&&t.container&&t.setState({scrollBarWidth:e})}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(i,p.a.Component),function(e,t,n){t&&j(e.prototype,t),n&&j(e,n)}(i,[{key:"componentDidMount",value:function(){var e=this.props.userAgent;this.isStyler=O(e)||function(e){return/edge/.test(e.toLowerCase())}(e)}},{key:"componentWillReceiveProps",value:function(e){this.isStyler&&e.width!==this.props.width&&this.updateScrollStyler()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.height,o=e.onWheel,r=e.onTouchMove,i=e.onScroll,a=this.state.scrollBarWidth;return p.a.createElement("div",{ref:this.getReference,className:"DropdownScrollbar Scrollbar",onWheel:o,onTouchMove:r,onScroll:i,style:{maxHeight:n}},t,this.isStyler&&p.a.createElement("div",{className:"styler",style:{width:a}}))}}]),i}();_(C,"defaultProps",{height:0});var P=Object(r.b)(function(e){var t=e.agent,n=e.display;return{userAgent:t.get("useragent"),width:n.getIn(["viewPort","width"])}})(C);C.__docgenInfo={description:"",methods:[{name:"getReference",docblock:null,modifiers:[],params:[{name:"element",type:null}],returns:null},{name:"updateScrollStyler",docblock:null,modifiers:[],params:[],returns:null}],displayName:"DropdownScrollbar",props:{height:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},onWheel:{type:{name:"func"},required:!1,description:""},onTouchMove:{type:{name:"func"},required:!1,description:""},onScroll:{type:{name:"func"},required:!1,description:""},userAgent:{type:{name:"string"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""}}};function q(e){var t=e.height,n=Object(f.a)("noNotifications");return p.a.createElement("div",{className:"NotificationsEmpty",style:{lineHeight:"".concat(Math.min(150,t),"px"),textAlign:"center"}},n)}q.defaultProps={height:14},q.__docgenInfo={description:"",methods:[],displayName:"NotificationsEmpty",props:{height:{defaultValue:{value:"14",computed:!1},type:{name:"number"},required:!1,description:""}}};n("PJRO");function I(e){var t=e.markAllAsRead;return p.a.createElement("div",{className:"NotificationsHeader cf"},p.a.createElement("span",{className:"NotificationsHeader-title left"},Object(f.a)("notifications")),t&&p.a.createElement("span",{className:"NotificationsHeader-markall right",onClick:t},Object(f.a)("markAllAsRead")))}I.__docgenInfo={description:"",methods:[],displayName:"NotificationsHeader",props:{markAllAsRead:{type:{name:"func"},required:!1,description:""}}};var M=n("Cz+I");n("kacx");function U(e){var t=e.error,n=e.tryAgain,o=e.dismiss;if(!t)return null;var r=t.get("message"),i=t.get("meta").toJS(),a=t.get("type");return p.a.createElement("div",{className:"NotificationError"},p.a.createElement("div",{className:"NotificationError-message"},r,p.a.createElement("span",{className:"NotificationError-buttons"},p.a.createElement("a",{className:"Button ButtonLink icon-retry NotificationError-retry",onClick:function(){n(a,i)}},Object(f.a)("errorRetry")),p.a.createElement("span",{className:"NotificationError-divider"}," â€¢ "),p.a.createElement("a",{className:"Button ButtonLink NotificationError-dismiss",onClick:o},Object(f.a)("errorDismiss")))))}var R=Object(r.b)(function(e){return{error:e.notifications.get("error")}},function(r){return{tryAgain:function(e,t){var n=Object(M.k)(e),o=t.options.params;n&&r(n(e=M.f&&o?o.pageToken:null))},dismiss:function(){return r(Object(M.i)())}}})(U);U.__docgenInfo={description:"",methods:[],displayName:"NotificationError",props:{error:{type:{name:"object"},required:!1,description:""},tryAgain:{type:{name:"func"},required:!0,description:""},dismiss:{type:{name:"func"},required:!0,description:""}}};n("y6ID");function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var L=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),x(this,B(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,o["Component"]),function(e,t,n){t&&T(e.prototype,t),n&&T(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.markAllAsRead,n=e.isFetching,o=e.onWheel,r=e.onScroll,i=e.height,a=e.notifications;return p.a.createElement("div",{className:"NotificationCards"},p.a.createElement(I,{markAllAsRead:0<a.size?t:void 0}),p.a.createElement(R,null),0!==a.size||n?p.a.createElement(P,{onWheel:o,onScroll:r,height:i},a.map(function(e){return e&&p.a.createElement(w,{key:"notif-".concat(e.get("id"),"-").concat(e.get("state")),notification:e})}),n&&p.a.createElement(h.b,{model:"notifications",size:60,status:{loading:n},applyStyle:{position:"absolute",left:"calc(50% - 30px)",top:"calc(50% - 30px)"}})):p.a.createElement(q,{height:i}),p.a.createElement("div",{className:"NotificationCards-bottomGradient"}))}}]),t}();L.__docgenInfo={description:"",methods:[],displayName:"NotificationCards",props:{notifications:{type:{name:"object"},required:!1,description:""},markAllAsRead:{type:{name:"func"},required:!1,description:""},isFetching:{type:{name:"bool"},required:!1,description:""},onWheel:{type:{name:"func"},required:!1,description:""},onScroll:{type:{name:"func"},required:!1,description:""},height:{type:{name:"number"},required:!1,description:""}}};var H=n("GB65"),F=n("/PhX");function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(l){var e=function(e){function r(){var e,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return X(Y(i=function(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?Y(e):t}(this,(e=V(r)).call.apply(e,[this].concat(n)))),"scrollElement",null),X(Y(i),"dropdownHeight",0),X(Y(i),"toggleDropdown",function(){var e=i.props,t=e.markAllAsSeen;!e.isOpen&&t(),i.props.toggleNotifications()}),X(Y(i),"calculateDropdownHeight",function(e){var t=Object(H.x)("Navbar");t&&t.length&&(i.dropdownHeight=e-t[0].clientHeight-100)}),X(Y(i),"handleWindowClick",function(e){var t=i.props.isOpen,n=i.dropdown;t&&n&&(!(n===e.target||n.contains(e.target))&&i.props.closeNotifications());return!0}),X(Y(i),"handleNotificationPagination",function(e){i.scrollElement=e.target}),X(Y(i),"wheelHandler",function(e){var t=i.props,n=t.isFetching,o=t.reachedEnd;if(!i.scrollElement||e.deltaY<=0||!i.scrollElement.scrollHeight)return!0;var r=i.dropdownHeight+i.scrollElement.scrollTop+100>i.scrollElement.scrollHeight;(n||r)&&(o||n||i.props.requestNextNotificationPage(),e.preventDefault())}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(r,p.a.Component),function(e,t,n){t&&J(e.prototype,t),n&&J(e,n)}(r,[{key:"closeDropdown",value:function(e,t){if(!t&&this.props.isOpen)return 100<e&&this.props.closeNotifications()}},{key:"componentWillMount",value:function(){this.calculateDropdownHeight(this.props.height)}},{key:"componentDidMount",value:function(){var e=this;this.autoCloser=Object(u.a)({el:function(){return e.dropdown},cb:this.handleWindowClick})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.height,o=t.positionY;n!==e.height&&this.calculateDropdownHeight(e.height),o!==e.positionY&&this.closeDropdown(e.positionY,e.isFetching)}},{key:"componentWillUnmount",value:function(){this.scrollElement=null,"function"==typeof this.autoCloser&&this.autoCloser()}},{key:"shouldComponentUpdate",value:function(e){return this.props.unseen!==e.unseen||(this.props.isOpen||e.isOpen)}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.className,r=n.markAllAsRead,i=n.isFetching,a=n.notifications,c=n.isOpen,s=n.unseen,u=d()((X(e={NotificationsDropdown:!0},o,o),X(e,"open",c),e));return p.a.createElement("div",{ref:function(e){t.dropdown=e},className:u},l&&p.a.createElement(l,{unseen:s,onClick:this.toggleDropdown}),c&&p.a.createElement(L,{notifications:a,isFetching:i,markAllAsRead:r,onWheel:this.wheelHandler,onScroll:this.handleNotificationPagination,height:this.dropdownHeight}))}}]),r}();return X(e,"defaultProps",{isFetching:!1,reachedEnd:!1,className:""}),e}function K(e){var t=e.display,n=e.ui;return{height:t.getIn(["viewPort","height"]),positionY:t.get("positionY"),isOpen:n.notifications.get("open")}}function Q(e){return{closeNotifications:function(){return e(Object(F.t)())},toggleNotifications:function(){return e(Object(F.B)({}))}}}var $=function(e){return Object(r.b)(K,Q)(Z(e))};n("NRal");function ee(e){var t=e.unseen,n=e.onClick,o=d()({NotificationButton:!0,"notification-dot":0<t,"ProfileNavbar-item":!0,uScaleTransition:!0});return p.a.createElement(m.b,{className:o,onClick:n,title:Object(f.a)("notifications"),imageSrc:b.a[b.p]})}var te=$(ee);ee.__docgenInfo={description:"",methods:[],displayName:"NavbarNotificationButton",props:{unseen:{type:{name:"number"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}};var ne=n("zTH+"),oe=n("Z6Av");function re(e){var t=n("rfzL");t.initialize(l.h,{enableHtmlInAppMessages:!0}),t.display.automaticallyShowNewInAppMessages(),Object(oe.b)()&&t.registerAppboyPushMessages(),t.changeUser(e),t.openSession()}n("fuAU"),n("m6gU");function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(t,n){var e=function(e){function i(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return le(se(t=function(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?se(e):t}(this,(e=ce(i)).call.apply(e,[this].concat(o)))),"requestNextNotificationPage",function(){t.props.reachedEnd||t.props.isFetching||t.props.fetchNotifications(t.props.pageToken)}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(i,p.a.Component),function(e,t,n){t&&ae(e.prototype,t),n&&ae(e,n)}(i,[{key:"componentDidMount",value:function(){this.requestNextNotificationPage(),n(this.props.userID)}},{key:"componentWillReceiveProps",value:function(e){e.isUpdateRequired!==this.props.isUpdateRequired&&e.isUpdateRequired&&this.props.fetchNotifications(null)}},{key:"render",value:function(){if(!t||!this.props.isActive)return null;var e={className:this.props.className,username:this.props.username,unseenConversations:this.props.unseenConversations,unseenNotifications:this.props.unseenNotifications,isFetching:this.props.isFetching,notifications:this.props.notifications,fireMessagingNavAnalytics:this.props.fireMessagingNavAnalytics,reachedEnd:this.props.reachedEnd,markAllAsSeen:this.props.markAllAsSeen,markAllAsRead:this.props.markAllAsRead,markAsRead:this.props.markAsRead,requestNextNotificationPage:this.requestNextNotificationPage};return p.a.createElement(t,e)}}]),i}();return le(e,"defaultProps",{isActive:!0}),e}function fe(e){var t=e.notifications,n=e.ui,o=e.user;return{unseenNotifications:t.get("unseenNotifications"),unseenConversations:t.get("unseenConversations"),notifications:t.get("notifications"),pageToken:t.get("pageToken"),reachedEnd:t.get("reachedEnd"),isUpdateRequired:t.get("isUpdateRequired"),isActive:!n.notifications.get("isSmallScreen")||n.notifications.get("open"),isFetching:n.spinner&&n.spinner.get("notifications")&&n.spinner.get("notifications").loading,userID:o.get("id")}}function de(t){return{fetchNotifications:function(e){t(Object(M.j)(e))},markAllAsSeen:function(){t(Object(M.m)())},markAllAsRead:function(){t(Object(M.l)())},markAsRead:function(e){t(Object(M.n)(e))},fireMessagingNavAnalytics:function(){t(Object(ne.d)("topNavBar"))}}}var me=function(e){return Object(r.b)(fe,de)(pe(e,re))},be=me($());n("p5h/");function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ge(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var we=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ge(this,ve(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(t,p.a.Component),function(e,t,n){t&&he(e.prototype,t),n&&he(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.unseenConversations,o=e.unseenNotifications,r=e.handleFireMessagingNavAnalytics,i=d()(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({NavbarNotifications:!0},t,t)),a={unseen:o,isFetching:this.props.isFetching,notifications:this.props.notifications,handleFireMessagingNavAnalytics:r,reachedEnd:this.props.reachedEnd,markAllAsSeen:this.props.markAllAsSeen,markAllAsRead:this.props.markAllAsRead,markAsRead:this.props.markAsRead,requestNextNotificationPage:this.props.requestNextNotificationPage};return p.a.createElement("div",{className:i},p.a.createElement(y.b,null),p.a.createElement(s,{unseen:n,onClick:r}),p.a.createElement(te,a))}}]),t}();we.defaultProps={className:""};var Oe=Object(r.b)(null,function(e){return{handleFireMessagingNavAnalytics:function(){e(Object(ne.d)("topNavBar"))}}})(me(we));we.__docgenInfo={description:"",methods:[],displayName:"NavbarNotifications",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},unseenConversations:{type:{name:"number"},required:!1,description:""},unseenNotifications:{type:{name:"number"},required:!1,description:""},isFetching:{type:{name:"bool"},required:!1,description:""},notifications:{type:{name:"object"},required:!1,description:""},handleFireMessagingNavAnalytics:{type:{name:"func"},required:!1,description:""},reachedEnd:{type:{name:"bool"},required:!1,description:""},markAllAsSeen:{type:{name:"func"},required:!1,description:""},markAllAsRead:{type:{name:"func"},required:!1,description:""},markAsRead:{type:{name:"func"},required:!1,description:""},requestNextNotificationPage:{type:{name:"func"},required:!1,description:""}}};var Ee=n("55Ip"),je=n("9rNq"),ke=n("y/zE");n("ds3J");function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(e){var t,n=e.displayUsername,o=e.unseen,r=e.className,i=d()((Se(t={notification:o},r,r),Se(t,"NavbarAvatar",!0),t));return p.a.createElement(ke.b,{className:i,displayUsername:n})}Ae.defaultProps={className:""};var _e=Object(r.b)(function(e){var t=e.ui,n=e.notifications;return{unseen:!t.cover.get("animated")&&n.get("unseen")}})(Ae);Ae.__docgenInfo={description:"",methods:[],displayName:"NavbarAvatar",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},displayUsername:{type:{name:"string"},required:!1,description:""},unseen:{type:{name:"bool"},required:!1,description:""}}};var Ce=n("4TFA");n("SINw");function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ie(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Re=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ie(this,Me(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(t,p.a.Component),function(e,t,n){t&&qe(e.prototype,t),n&&qe(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.unseenConversations,o=e.unseenNotifications,r=e.isLoggedIn,i=e.handleToggleNotifications,a=d()(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({NavbarUserMenuNotifications:!0},t,!!t));return p.a.createElement("div",{className:a},r&&p.a.createElement(s,{unseen:n,onClick:ne.d}),r&&p.a.createElement(ee,{markAllAsSeen:M.m,unseen:o,onClick:i}))}}]),t}();Re.defaultProps={className:""};var De=Object(r.b)(function(e){var t=e.user,n=e.notifications;return{isLoggedIn:t.get("isLoggedIn"),unseenNotifications:n.get("unseenNotifications"),unseenConversations:n.get("unseenConversations")}},function(e){return{fireMessagingNavAnalytics:function(){e(Object(ne.d)("topNavBar"))},handleToggleNotifications:function(){e(Object(M.m)()),e(Object(F.B)())}}})(Re);Re.__docgenInfo={description:"",methods:[],displayName:"NavbarUserMenuNotifications",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},unseenConversations:{type:{name:"number"},required:!1,description:""},unseenNotifications:{type:{name:"number"},required:!1,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},fireMessagingNavAnalytics:{type:{name:"func"},required:!1,description:""},handleToggleNotifications:{type:{name:"func"},required:!1,description:""}}};n("92em");function Te(e){var t=e.username,n=e.displayUsername;return p.a.createElement("div",{className:"NavbarUserMenuCover",style:{backgroundImage:"url(".concat(l.I,"/user/").concat(t,"/cover)")}},p.a.createElement("div",{className:"NavbarUserMenuCover-row"},p.a.createElement(ke.b,{className:"NavbarAvatar NavbarAvatar-menu",displayUsername:n}),p.a.createElement(De,{className:"NavbarNotifications-menu",username:t})),p.a.createElement("div",{className:"NavbarUserMenuCover-row NavbarUserMenuCover-user"},n||t))}Te.__docgenInfo={description:"",methods:[],displayName:"NavbarUserMenuCover",props:{username:{type:{name:"string"},required:!0,description:""},displayUsername:{type:{name:"string"},required:!1,description:""}}};n("gAaL");function xe(e){var t=e.username,n=e.displayUsername,o=e.logout,r=e.profileBeta,i=e.userMenuClickAnalytics,a=n||t,c=function(e){return function(){i(e)}},s=r?p.a.createElement(Ee.b,{className:"Dropdown-option",to:"/user/".concat(a,"/posts"),onClick:c(Ce.d)},Object(f.a)("navbarMenuPosts")):p.a.createElement("a",{className:"Dropdown-option",href:"".concat(l.I,"/user/").concat(a,"/submitted"),onClick:c(Ce.d)},Object(f.a)("navbarMenuPosts")),u=r?p.a.createElement(Ee.b,{className:"Dropdown-option",to:"/user/".concat(a,"/comments"),onClick:c(Ce.a)},Object(f.a)("navbarMenuComments")):p.a.createElement("a",{className:"Dropdown-option",href:"".concat(l.I,"/user/").concat(a),onClick:c(Ce.a)},Object(f.a)("navbarMenuComments"));return p.a.createElement(je.d,{className:"NavbarUserMenu",value:a,dropdownIcon:p.a.createElement(_e,{className:"NavbarAvatar-navbar"}),onClickDropdown:function(e,t){e&&e.target.classList.contains("NavbarAvatar")&&t&&(i(Ce.e),Object(H.U)("".concat(l.I,"/user/").concat(a)))}},p.a.createElement(Te,{username:t,displayUsername:n}),p.a.createElement("div",{className:"Dropdown-option-group"},s,p.a.createElement(Ee.b,{className:"Dropdown-option",to:"/user/".concat(a,"/favorites"),onClick:c(Ce.b)},Object(f.a)("navbarMenuFavorites")),u,r&&p.a.createElement(Ee.b,{className:"Dropdown-option",to:"/user/".concat(a,"/about")},Object(f.a)("navbarMenuAbout")),p.a.createElement("a",{className:"Dropdown-option",href:"https://".concat(a,".").concat(l.H,"/all"),onClick:c(Ce.c)},Object(f.a)("navbarMenuImages"))),p.a.createElement("div",{className:"Dropdown-option-group Dropdown-option-footer"},p.a.createElement("a",{className:"Dropdown-option",onClick:c(Ce.f),href:l.a},p.a.createElement(b.H,{name:b.x}),p.a.createElement("span",null,Object(f.a)("navbarMenuSettings"))),p.a.createElement("div",{className:"Dropdown-option",onClick:o},p.a.createElement(b.H,{name:b.y}),p.a.createElement("span",null,Object(f.a)("navbarMenuSignOut")))))}xe.__docgenInfo={description:"",methods:[],displayName:"NavbarUserMenu",props:{username:{type:{name:"string"},required:!0,description:""},displayUsername:{type:{name:"string"},required:!1,description:""},logout:{type:{name:"func"},required:!1,description:""},profileBeta:{type:{name:"bool"},required:!1,description:""},userMenuClickAnalytics:{type:{name:"func"},required:!0,description:""}}};n("o0ye");function Be(e){var t=e.username,n=e.displayUsername,o=e.handleLogout,r=e.userMenuClickAnalytics,i=e.profileBeta,a=e.isSmallScreen;if(t)return p.a.createElement("div",{className:"ProfileNavbar"},a?p.a.createElement(be,{className:"NavbarNotifications-dropdown"}):p.a.createElement(Oe,null),p.a.createElement(xe,{username:t,displayUsername:n,logout:o,userMenuClickAnalytics:r,profileBeta:i}));var c="?redirect=".concat(encodeURIComponent(Object(H.t)())),s=Object(f.a)("navbarSignUp"),u=Object(f.a)("navbarSignIn");return p.a.createElement("div",{className:"ProfileNavbar"},p.a.createElement("div",{className:"NavbarNotifications NavbarNotifications-navbar"},p.a.createElement("div",{className:"ProfileNavbar-item uScaleTransition"},p.a.createElement(y.b,null))),p.a.createElement("a",{onClick:function(){r("sign in")},className:"Navbar-signin",href:"".concat(l.I,"/signin").concat(c)},u),p.a.createElement(m.b,{className:"Button Navbar-signup",label:s,title:s,onClick:function(){r("sign up")},href:"".concat(l.I,"/register").concat(c)}))}var We=Object(r.b)(function(e,t){var n=e.user,o=e.ui;return{username:n.get("username"),displayUsername:n.get("displayUsername"),isSmallScreen:void 0===t.isSmallScreen?o.notifications.get("isSmallScreen"):t.isSmallScreen,profileBeta:n.getIn(["flags","desktopProfilePageBeta"])}},function(t){return{userMenuClickAnalytics:function(e){t(Object(ne.f)(e))},handleLogout:function(){t(Object(i.q)()),t(Object(ne.f)("logout"))}}})(Be);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Fe(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Je(e,t){return(Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Be.__docgenInfo={description:"",methods:[],displayName:"ProfileNavbar",props:{username:{type:{name:"string"},required:!1,description:""},displayUsername:{type:{name:"string"},required:!1,description:""},handleLogout:{type:{name:"func"},required:!0,description:""},profileBeta:{type:{name:"bool"},required:!1,description:""},userMenuClickAnalytics:{type:{name:"func"},required:!0,description:""},isSmallScreen:{type:{name:"bool"},required:!1,description:""}}};var Ve=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fe(this,ze(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Je(e,t)}(t,p.a.Component),function(e,t,n){t&&He(e.prototype,t),n&&He(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.isUserLoaded||this.props.fetchUserData()}},{key:"render",value:function(){return this.props.isUserLoaded?p.a.createElement(We,this.props):null}}]),t}();t.a=Object(r.b)(function(e){return{isUserLoaded:e.user.get("isLoaded")}},{fetchUserData:i.n})(Ve);Ve.__docgenInfo={description:"",methods:[],displayName:"ProfileNavbarContainer",props:{fetchUserData:{type:{name:"func"},required:!0,description:""},isUserLoaded:{type:{name:"bool"},required:!1,description:""}}}},NRal:function(e,t,n){},PJRO:function(e,t,n){},SINw:function(e,t,n){},"X+lB":function(e,t,n){},ds3J:function(e,t,n){},fuAU:function(e,t,n){},gAaL:function(e,t,n){},kacx:function(e,t,n){},lZex:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return p});var o=n("q1tI"),r=n.n(o),i=n("55Ip"),a=n("G5ih"),c=n("pNV7"),s=Object(a.a)("labelTopComments"),u="/leaderboard";function l(){return r.a.createElement(i.b,{to:u,title:s},r.a.createElement(c.H,{name:c.n,className:"uScaleTransition ProfileNavbar-item ".concat(c.n)}))}function p(){return r.a.createElement(i.b,{to:u},s)}l.__docgenInfo={description:"",methods:[],displayName:"NavbarLeaderboardButton"},p.__docgenInfo={description:"",methods:[],displayName:"NavbarLeaderboardMenuItem"}},m6gU:function(e,t,n){},o0ye:function(e,t,n){},"p5h/":function(e,t,n){},qh6O:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n("q1tI"),c=n.n(o),r=n("TSYQ"),s=n.n(r),u=(n("17x9"),n("Nm7g"));function i(e){var t=e.date,n=e.datetime,o=e.timestamp,r=e.className,i=t||new Date(o||Date.parse(n)),a=s()(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({When:!0},r,r));return c.a.createElement("span",{className:a,title:i},Object(u.c)(i.getTime()/1e3))}i.defaultProps={className:""},i.__docgenInfo={description:"TODO:\nfromNow, and utils/formatting is a problem. That code should not be there\nit should be in here. It's also not internationalized. Anytime at all that we\nwant to have a formatted datetime, it will be inside a React Component, so we should\njust have a react component that does the formatting, which is what this does. At somepoint\nwe should change over all uses of the `fromNow` code where ever it used to this component\nand then to also internationalize the component. Date formatting is a job of a view. It's\npresentation data, and it doesn't belong in utils.\n\nfromNow is also problematic in that it expects a PHP generated timestamp, which is seconds\nfrom UTC. It should have accepted a date object.\n\nAnother problem with the fromNow is that it shows plural s when there shouldn't be a plural s,\nlike \"1 days\" should be \"1 day\".\n\nBy it being in a react component we can also ensure that dates always look the same. Same CSS\nsame exact date format.",methods:[],displayName:"When",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},date:{type:{name:"instanceOf",value:"Date"},required:!1,description:""},datetime:{type:{name:"string"},required:!1,description:""},timestamp:{type:{name:"number"},required:!1,description:""}}}},y6ID:function(e,t,n){},ygTn:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var o=n("q1tI"),r=n.n(o),i=(n("17x9"),n("/MKj")),a=n("55Ip"),c=n("4661"),s=n.n(c),u=n("E9Wd"),l=n("GB65"),p=n("zTH+");function f(e){var t=e.frontPageBeta,n=e.logoClicked,o=t?r.a.createElement(a.b,{className:"Navbar-logo",to:"/",onClick:function(){"/"===Object(l.t)()&&Object(l.W)()}},r.a.createElement("img",{src:s.a,onClick:n})):r.a.createElement("a",{className:"Navbar-logo",href:u.I},r.a.createElement("img",{src:s.a,onClick:n}));return r.a.createElement("div",{className:"Navbar-logo-container"},o)}var d=Object(i.b)(function(e){return{frontPageBeta:e.user.getIn(["flags","desktopFrontPageBeta"])}},{logoClicked:p.e})(f);f.__docgenInfo={description:"",methods:[],displayName:"NavbarLogo",props:{frontPageBeta:{type:{name:"bool"},required:!1,description:""},logoClicked:{type:{name:"func"},required:!0,description:""}}}}}]);