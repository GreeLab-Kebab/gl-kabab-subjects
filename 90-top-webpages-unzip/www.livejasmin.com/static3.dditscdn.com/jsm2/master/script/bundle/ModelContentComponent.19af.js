(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"1d57":function(e,t,n){var o=n("3414"),a=function(e,t){a.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(a,o.Component,{name:"BioPageThumbnailCarouselView",carouselContainerId:"biopage_perfimg_box",ImageGalleryContainerCls:"perfimg_boxes_container",navigationContainerId:"biopage_gallery_navigation_container",sliderNavigatorCls:"slider_navigator",navigationNextButtonId:"navigation_right_button",navigationPrevButtonId:"navigation_left_button",sliderDotCls:"slider_dots ",imageThumbnailCls:"biopage_thumbnail",duration:.2,enableAnimation:!0,activeCls:"active",dotNavigationContainerCls:"gallery_slider",sliderNavigationCls:"slider_navigator",biopageThumbnailCarouselContainerCls:"biopage_thumbnail_carousel",maxPageIndex:void 0,_imageGalleryContainerSize:void 0,_imageGalleryContainerWidth:void 0,_imageGalleryContainerHeight:void 0,_currentPageIndex:0,init:function(e,t){this.sliderNavigationContainerEl=this.element.select("."+this.dotNavigationContainerCls).item(0),this.navigationContainerEl=Ext.get(this.navigationContainerId),this.carouselContainerEl=Ext.get(this.carouselContainerId),this.biopageThumbnailCarouselContainerEl=this.element.select("."+this.biopageThumbnailCarouselContainerCls).item(0),this.imageGalleryContainerItems=this.carouselContainerEl.select("."+this.ImageGalleryContainerCls),this.performerImagesBoxesContainerEl=this.imageGalleryContainerItems.item(0),this.performerImageBoxHeight=this.performerImagesBoxesContainerEl.getHeight(),this.thumbnailItems=this.carouselContainerEl.select("."+this.imageThumbnailCls),this.thumbnailHeight=this.thumbnailItems.item(0).getHeight(),this.navigationNextButtonEl=Ext.get(this.navigationNextButtonId),this.navigationPrevButtonEl=Ext.get(this.navigationPrevButtonId),a.superclass.init.call(this,e,t),this.initGallery()},getGalleryBoundaries:function(){this.sliderDotItems=this.element.select("."+this.sliderDotCls),this.maxPageIndex=this.getNumberOfPages(),this._imageGalleryContainerWidth=this.performerImagesBoxesContainerEl.getWidth(),this._imageGalleryContainerHeight=this.performerImagesBoxesContainerEl.getHeight()},initGallery:function(){this.getNumberOfRequiredContent(),this.updateNavigation(),this.setActiveClassForDotItem(),this.getGalleryBoundaries(),this.updateArrowNavigationDataValues(),this.refreshContent(),this.setCarouselContainerHeight(),this.removeEmptySlide(),this.setCarouselContainerElWidth(),this.animateThumbnailContainer()},updateNavigation:function(){var e=this.getNumberOfPages(),t="";this.removeDotNavigation();for(var n=0;n<e;n++)t+='<li class="'+this.sliderNavigationCls+" "+this.sliderDotCls+'" data-position="'+n+'" ></li>';this.sliderNavigationContainerEl.dom.innerHTML=t,this.updateArrowNavigationDataValues()},removeDotNavigation:function(){this.sliderNavigationContainerEl.dom.innerHTML=""},removeEmptySlide:function(){for(var e=this.element.select("."+this.ImageGalleryContainerCls),t=1;t<e.elements.length;t++){e.item(t).select("."+this.imageThumbnailCls).item(0)||e.item(t).remove()}},cleanUpDotClasses:function(){return this.sliderDotItems.removeClass(this.activeCls),this},onNavigationClick:function(e){e.preventDefault();var t=e.getTarget("."+this.sliderNavigatorCls,2,!0);this._currentPageIndex=parseInt(t.dom.getAttribute("data-position"),10),this.cleanUpDotClasses(),this.setActiveClassForDotItem(),this.updateArrowNavigationDataValues(),this.setCarouselContainerHeight(),this.animateThumbnailContainer()},setActiveClassForDotItem:function(){return this.sliderDotItems=this.element.select("."+this.sliderDotCls),this.sliderDotItems.item(this._currentPageIndex)||(this._currentPageIndex=this._currentPageIndex-1),this.sliderDotItems.item(this._currentPageIndex).addClass(this.activeCls),this},updateArrowNavigationDataValues:function(){var e=0===this._currentPageIndex?this.maxPageIndex-1:this._currentPageIndex-1,t=this._currentPageIndex===this.maxPageIndex-1?0:this._currentPageIndex+1;this.navigationPrevButtonEl.dom.setAttribute("data-position",e),this.navigationNextButtonEl.dom.setAttribute("data-position",t)},setCarouselContainerElWidth:function(){var e=this._imageGalleryContainerWidth*this.maxPageIndex+"px";this.carouselContainerEl.setStyle("width",e)},setCarouselContainerHeight:function(){var e=this.element.select("."+this.ImageGalleryContainerCls),t=this.getRowSize(e.item(this._currentPageIndex));this.biopageThumbnailCarouselContainerEl.setStyle("height",t*this.thumbnailHeight+"px")},getRowSize:function(e){var t=e.select("."+this.imageThumbnailCls).elements.length,n=this.requiredContentAmount.total/this.requiredContentAmount.row;return Math.ceil(t/n)},animateThumbnailContainer:function(){return TweenLite.to(this.carouselContainerEl.dom,this.duration,{css:{left:"-"+this._currentPageIndex*this._imageGalleryContainerWidth+"px"},onCompleteScope:this,onComplete:function(){this.enableAnimation=!0}}),this},getNumberOfPages:function(){return Math.ceil(this.thumbnailItems.elements.length/this.getNumberOfRequiredContent().total)},getNumberOfRequiredContent:function(){var e=this.performerImagesBoxesContainerEl.select("."+this.imageThumbnailCls).item(0),t=Math.floor(e.getWidth()),n=Math.floor(e.getHeight()),o=Math.floor(this.performerImagesBoxesContainerEl.getWidth()),a=Math.floor(this.performerImageBoxHeight);return this.requiredContentAmount={row:Math.floor(a/n),column:Math.floor(o/t),total:Math.floor(o/t)*Math.floor(a/n)},this.requiredContentAmount},refreshContent:function(){for(var e=this.element.select("."+this.ImageGalleryContainerCls),t=0,n=0;n<this.thumbnailItems.elements.length;n++){if(n%this.requiredContentAmount.total==0&&0!==n&&t++,!e.item(t))e.item(0).appendTo(this.carouselContainerEl),Ext.DomHelper.append(this.carouselContainerEl,{tag:"div",cls:this.ImageGalleryContainerCls}),e=this.element.select("."+this.ImageGalleryContainerCls);this.thumbnailItems.item(n).appendTo(e.item(t))}},onResize:function(){var e=this.imageGalleryContainerItems.item(0).getWidth(),t=this.imageGalleryContainerItems.item(0).getHeight();e!==this._imageGalleryContainerWidth&&(this._imageGalleryContainerWidth=e,this._imageGalleryContainerHeight=t,this.initGallery())},bind:function(){Ext.fly(window).on("resize",this.onResize,this),this.navigationContainerEl&&this.navigationContainerEl.on("click",this.onNavigationClick,this,{delegate:"."+this.sliderNavigatorCls}),a.superclass.unbind.call(this)},unbind:function(){this.navigationContainerEl&&this.navigationContainerEl.un("click",this.onNavigationClick,this,{delegate:"."+this.sliderNavigatorCls}),a.superclass.unbind.call(this)}})},2334:function(e,t,n){"use strict";var o=n("3414"),a=n.n(o),r=n("8af1"),i=n.n(r),s=n("8a2d"),l=n("0a81"),c=n("c560"),u=n("c929"),p=n("4911"),h=n.n(p),d=n("0592"),m=n("fd09"),g=n("7ab0"),f=n.n(g),C=n("089a"),b=n("fbc6"),y=n("b912"),E=n.n(y),v=n("0e57"),_=n("1cab"),I=n("3a15"),k=n.n(I);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=h()({loader:function(){return Promise.all([n.e(9),n.e(11)]).then(n.bind(null,"e282"))},loading:i.a.createElement(v.a,{"data-testid":"ProfilePictureLoader"})}),B=a.a.Config.get("my_story_enabled"),L=function(e){function t(){var e,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return o=this,a=(e=O(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==w(a)&&"function"!=typeof a?P(o):a,N(P(P(n)),"openOverlay",function(){var e=n.storyOwner;e&&d.default.navigate("story/".concat(e),{trigger:!0,preventNavigateBack:!1,replace:!1,keepActiveModal:!0,lockActiveModal:!0})}),N(P(P(n)),"handleMouseOver",function(){S.preload()}),N(P(P(n)),"handleClick",function(e){e.preventDefault();var t=n.props.profilePictureHref,o=n.storyOwner;if(n.hasStory){n.clicked=!0;var a=n.props,r=a.getStories,i=a.disableStories;return r(o).catch(function(e){console.error(e),i()}),void(t||_.default.trackGenericEvent({eventCategory:_.default.CONST.PAGE.CHAT,eventAction:_.default.CONST.ACTION.CLICK,eventLabel:"stories icon"}))}t&&d.default.navigateToChatPage("chat/".concat(o),{trigger:!0,preventNavigateBack:!1})}),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,i.a.PureComponent),n=t,(o=[{key:"componentDidUpdate",value:function(e){var t=this.props.stories,n=t.items,o=t.loading,a=n.length!==e.stories.items.length,r=e.stories.loading&&!o;(a||r)&&0!==n.length&&this.clicked&&(this.openOverlay(),this.clicked=!1)}},{key:"render",value:function(){var e=this.props,t=e.inViewport,n=e.src,o=e.size,a=e.lineWidth,r=e.circleMargin,s=e.duration,l=e.stories,c=e.stories.isStoryDisabled,p=e.enterCount,h=e.profilePictureHref,d=e.profilePictureDescription,g=l.loading?"forever":t&&p<2?"once":"static",b=this.storyOwner,y=d||"".concat(b,"'s profile picture");return i.a.createElement("div",{className:E()(k.a.wrapper,N({},k.a.hasStories,this.hasStory)),onMouseOver:this.handleMouseOver,onClick:this.handleClick},c?i.a.createElement(m.a,{active:c,className:k.a.storyError,position:"right",container:!f.a.isChatPage()&&"#chatblock",arrow:"left",parent:"#bio img",isOverlay:!f.a.isChatPage(),updateSizeWithTimeout:!0,"data-testid":"ProfilePictureToolTip"},i.a.createElement("div",null,Object(C.a)("No story available."))):null,this.hasStory?i.a.createElement(u.a,{size:o,type:g,initialSpin:!l.loading,lineWidth:a,circleMargin:r,duration:s,animate:t,"data-testid":"ProfilePictureCircleLoader"},i.a.createElement("figure",{className:k.a.image,style:{backgroundImage:"url(".concat(n,")")}})):h?i.a.createElement("a",{href:h},i.a.createElement("img",{className:k.a.avatar,src:n,alt:y})):i.a.createElement("img",{className:k.a.avatar,src:n,alt:y}))}},{key:"hasStory",get:function(){var e=this.props,t=e.performer.hasStory,n=e.stories.isStoryDisabled,o=e.storiesAvailable;return(null!==o?o:t)&&B&&!n}},{key:"storyOwner",get:function(){var e=this.props,t=e.performer.nick;return e.performerNick||t}}])&&T(n.prototype,o),a&&T(n,a),t}();N(L,"propTypes",{src:s.string.isRequired,size:s.number,duration:s.number,lineWidth:s.number,circleMargin:s.number,performer:Object(s.shape)({nick:Object(s.oneOfType)([s.bool,s.string]),bioPageContent:s.bool,hasStory:s.bool,profilePicture:Object(s.shape)({large:s.string,small:s.string})}).isRequired,getStories:s.func.isRequired,disableStories:s.func.isRequired,stories:Object(s.shape)({items:Object(s.arrayOf)(Object(s.shape)({type:Object(s.oneOf)(["image","video"]),privacy:Object(s.oneOf)(["premium","free"]),createdAt:s.string,duration:s.number,media:Object(s.arrayOf)(Object(s.shape)({type:Object(s.oneOf)(["image","video"]),contentUrl:s.string,dimension:Object(s.shape)({width:s.number,height:s.number})}))})),price:Object(s.oneOfType)([s.bool,s.number]),loading:s.bool,profilePictureUrl:Object(s.oneOfType)([s.bool,s.string]),isSubscribed:s.bool,isStoryDisabled:s.bool}).isRequired,inViewport:s.bool,enterCount:s.number,storiesAvailable:s.bool,performerNick:s.string,profilePictureHref:s.string,profilePictureDescription:s.string}),N(L,"defaultProps",{size:100,duration:1500,lineWidth:2,circleMargin:12,inViewport:!1,storiesAvailable:null,enterCount:0,performerNick:null,profilePictureHref:null,profilePictureDescription:null});var x=Object(c.a)(L,{rootMargin:"-1.0px"}),R={getStories:b.k,disableStories:b.i},A=Object(l.b)(function(e){return{stories:e.stories,performer:e.performer}},R)(x);t.a=A},"2ce3":function(e,t,n){var o=n("3414"),a=n("3414").Component,r=n("d869"),i=n("ee27"),s=function(e,t){s.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(s,a,{name:"ModelContentViewAbstract",chatBlockLoaderId:"chat_block_loader",hiddenCls:"hidden",freechatId:"freechat",memberClientId:"member_client_container",chatblockId:"chatblock",init:function(e,t){s.superclass.init.call(this,e,t),this.chatBlockLoaderEl=Ext.get(this.chatBlockLoaderId),this.freechatEl=Ext.get(this.freechatId),this.memberClientEl=Ext.get(this.memberClientId),this.chatBlockEl=Ext.get(this.chatblockId)},showLoader:function(e){"1"===i.getQueryParamByName("wall_off")||window.denyWallLoad||this.chatBlockLoaderEl&&(e?this.chatBlockLoaderEl.removeClass(this.hiddenCls):this.chatBlockLoaderEl.addClass(this.hiddenCls))},scrollToElement:function(e){TweenLite.to("html, body",.7,{scrollTop:e.getTop(),ease:Cubic.easeOut})},scrollToModalWall:function(){var e=o.Config.get("OverlayAppletType")===r.appletType.HTML5?this.memberClientEl:this.freechatEl,t=e.getHeight(),n=parseInt(e.getStyle("marginTop"));TweenLite.to(this.chatBlockEl.dom,.7,{scrollTop:t+n,ease:Cubic.easeOut})}})},"311b":function(e,t,n){e.exports={tooltip:"_2MgYdqw75Q4C","msg-title":"VfQcNDcGIBOt","msg-footer":"_24FB19F9bfk9",button:"ety_-mECnAcM",wrapper:"_3klIiazTyayP",buttonWrapper:"_1opkIRDZl7z7",price:"_1zFZBWuXDcAA",withIcon:"DbJLegqVJb6T",title:"_1-7FxWjHQ1tV",withCaption:"_1OM_ou8PQ7SM",icon:"_1DmW_W0E6Ich",error:"_2Royla_r4roS",loading:"_4NYgjwfq7Hqy",caption:"_2QBKULP_-oKZ",shake:"_1kzkSPlK1jWg",declinedTransactionTooltip:"_3u8zFWQOILTu",alertIcon:"_3IYZhGiMiWDr",transactionFailedTooltipHeader:"_39CVRiMyAO7Y",transactionFailedTooltipMessage:"_1_zuapeQDJ2x"}},"3a15":function(e,t,n){e.exports={wrapper:"_2UqV1n5eV81d",hasStories:"_1LY080aWdFiQ",image:"_1gvYujNVn8E5",avatar:"_2rm4q_dmnR9w",storyError:"_3o3KIAzxMwBc",fade:"_2ZPysFBvkXS9"}},"5e2f":function(e,t,n){"use strict";var o=n("8af1"),a=n.n(o),r=n("0a81"),i=n("3414"),s=n.n(i),l=n("7ab0"),c=n.n(l),u=n("0592"),p=n("8a2d"),h=n.n(p),d=n("089a"),m=n("9ced"),g=n("e6c0"),f=n("cf69"),C=n("fd09"),b=n("311b"),y=n.n(b),E=n("b912"),v=n.n(E),_=n("cbc5"),I=n("06af"),k=n("7984"),w=n("1cab"),T=n("a9a1");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e,t){w.default.trackGenericEvent({eventAction:e,eventLabel:t})},x=function(e,t,n,o,r,i,l,p,h){switch(e.status){case 401:return a.a.createElement(C.a,{active:!!e,className:y.a.tooltip,position:"bottom",container:n,group:r,arrow:"center",parent:"#unlockButton".concat(t).concat(i),isOverlay:!0,width:200,updateSizeWithTimeout:!0,onElementClickInsideCard:function(e,n){return l(e,n,t)},"data-testid":"UnlockButtonToolTip"},a.a.createElement("div",null,Object(d.a)("Become a Premium Member to unlock this content.")),a.a.createElement(m.a,{onClick:function(e){return function(e,t){e.stopPropagation(),L("my content click","signup"),u.default.navigate("signup",t)}(e,o)},"data-testid":"UnlockButtonButton"},Object(d.a)("Sign up")),a.a.createElement("div",null,a.a.createElement("a",{href:"#",onClick:function(e){return function(e,t){e.stopPropagation(),e.preventDefault(),L("my content click","login"),u.default.navigate("login",t)}(e,o)}},Object(d.a)("or log in"))));case 403:if("veryQuickBuy"===e.data.checkpointName)return a.a.createElement(C.a,{active:!!e,className:y.a.tooltip,position:"bottom",container:n,group:r,arrow:"center",parent:"#unlockButton".concat(t).concat(i),isOverlay:!0,width:200,updateSizeWithTimeout:!0,onElementClickInsideCard:function(e,n){return l(e,n,t)},"data-testid":"UnlockButtonToolTip"},a.a.createElement("div",{className:y.a["msg-title"]},Object(d.a)("You need to buy {priceInCredits} credits to unlock this content.",{priceInCredits:e.data.creditPrice.amount})),a.a.createElement(m.a,{disabled:h,onClick:function(e){return p()},"data-testid":"UnlockButtonButton"},Object(d.a)("Buy and Unlock")),a.a.createElement("p",{className:y.a["msg-footer"]},e.data.realCurrencyPrice.currency," ",e.data.realCurrencyPrice.amount));if("buyCredits"===e.data.checkpointName)return a.a.createElement(C.a,{active:!!e,className:y.a.tooltip,position:"bottom",container:n,group:r,arrow:"center",parent:"#unlockButton".concat(t).concat(i),isOverlay:!0,width:200,updateSizeWithTimeout:!0,onElementClickInsideCard:function(e,n){return l(e,n,t)},"data-testid":"UnlockButtonToolTip"},a.a.createElement("div",null,Object(d.a)("You don't have enough credits to unlock this content.")),a.a.createElement(m.a,{onClick:function(e){return function(e,t){e.stopPropagation(),c.a.isChatPage()||s.a.Cookie.set("incompleted-unlock",T.store.getState().performer.nick,1800),L("my content click","buy credits"),u.default.navigate("payment",t)}(e,o)},"data-testid":"UnlockButtonButton"},Object(d.a)("Buy Credits")));case 404:case 503:case 500:return a.a.createElement(C.a,{active:!!e,className:y.a.tooltip,position:"bottom",container:n,group:r,arrow:"center",parent:"#unlockButton".concat(t).concat(i),isOverlay:!0,width:200,updateSizeWithTimeout:!0,onElementClickInsideCard:function(e,n){return l(e,n,t)},"data-testid":"UnlockButtonToolTip"},a.a.createElement("div",null,Object(d.a)("Currently not available, please try again later.")));default:return null}},R=function(e){function t(){var e,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return o=this,a=(e=P(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==O(a)&&"function"!=typeof a?S(o):a,B(S(S(n)),"state",{loading:!1,error:!1}),B(S(S(n)),"onToolTipInsideClick",function(e,t,o){var a="A"===t.target.tagName||"BUTTON"===t.target.tagName;(!e||e&&a)&&n.setState({error:!1})}),B(S(S(n)),"onUnlockWithPurchaseClick",function(){var e=n.props,t=e.id,o=e.performerNick,a=e.actions.unlockWithQuickBuy;n.setState({loading:!0},function(){L("my content click","buy and unlock"),a({id:t,performerNick:o})})}),B(S(S(n)),"clearError",function(){n.setState({error:!1})}),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,a.a.PureComponent),n=t,(o=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.performer.byId,o=t.id,a=t.onSuccess,r=t.purchaseUi,i=e.performer.byId[o],s=n[o];i&&s&&i.status!==s.status&&a();var l=this.state.error&&this.state.error.isTechnicalError,c=r&&r.response&&r.response.isTechnicalError;(r&&r.response&&r.response.contentId)===o&&c&&l!==c&&this.setState({error:{isTechnicalError:!0,status:500},loading:!1})}},{key:"unlockItem",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0}),T.store.dispatch(Object(I.purchaseErrorReset)());var n=this.props,o=n.performerNick,a=n.id,r=n.onSuccess,i=n.onError;Object(k.c)(o,a).then(function(e){t.setState({loading:!1}),r(e),L("mycontent purchased",e.data.type),"album"===e.data.type?T.store.dispatch(_.unlockAlbum({content:e.data.content})):T.store.dispatch(_.unlockVideo({video:e.data}))}).catch(function(e){e.response?t.setState({loading:!1,error:e.response}):e.request?t.setState({loading:!1,error:503}):console.error("Error",e.message),i(e.response)})}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.id,r=n.price,i=n.loadingIcon,l=n.group,c=n.errorContainer,u=n.caption,p=n.title,h=n.routeManagerOptions,b=n.purchaseUi,E=b.response,_=b.polling,I=this.state,k=I.loading,w=I.error,T=this.props.group?"_".concat(this.props.group):"",O=v()(y.a.wrapper,(B(e={},y.a.withCaption,this.props.caption),B(e,y.a.withIcon,this.props.icon),B(e,y.a.error,this.state.error),B(e,y.a.loading,this.state.loading),e)),M=r<=1?Object(d.a)("credit"):Object(d.a)("credits"),P=E.purchaseStatus,N=E.contentId,S="statusDenied"===P&&N===o,R=this.props.icon;return k&&i&&(R=i),a.a.createElement("div",{className:O},S&&a.a.createElement(C.a,{active:!0,className:y.a.declinedTransactionTooltip,position:"bottom",container:c,group:l,arrow:"center",parent:"#unlockButton".concat(o).concat(T),isOverlay:!0,width:250,updateSizeWithTimeout:!0,onElementClickInsideCard:function(e,n){return t.onToolTipInsideClick(e,n,o)},"data-testid":"UnlockButtonToolTip"},a.a.createElement(g.a,{className:y.a.alertIcon,icon:"alert","data-testid":"UnlockButtonIcon"}),a.a.createElement("div",{className:y.a.transactionFailedTooltipHeader},Object(d.a)("Transaction failed")),a.a.createElement("p",{className:y.a.transactionFailedTooltipMessage},Object(d.a)("Transaction declined by the bank.")),a.a.createElement(f.a,{href:s.a.getUrl("Credit/PaymentOptions"),onClick:function(){L("my content click","try another method")},"data-testid":"UnlockButtonAnchorButton"},Object(d.a)("Try another payment method"))),R&&a.a.createElement("div",{className:y.a.icon},a.a.createElement(g.a,{icon:R,"data-testid":"UnlockButtonIcon"}),u&&a.a.createElement("strong",{className:y.a.caption},a.a.createElement("span",null,u))),a.a.createElement("div",{className:y.a.buttonWrapper},a.a.createElement(m.a,{id:"unlockButton".concat(o).concat(T),className:y.a.button,loading:k,onClick:function(e){return t.unlockItem(e)},"data-testid":"UnlockButtonButton"},a.a.createElement("span",{className:y.a.title},p)),r&&0!==r?a.a.createElement("div",{className:y.a.price},a.a.createElement("span",null,r," ",M)):""),w&&x(w,o,c,h,l,T,this.onToolTipInsideClick,this.onUnlockWithPurchaseClick,_))}}])&&M(n.prototype,o),r&&M(n,r),t}();B(R,"propTypes",{id:h.a.string.isRequired,performerNick:h.a.string.isRequired,title:h.a.string,caption:h.a.string,errorContainer:h.a.oneOfType([h.a.bool,h.a.node]),showOnHover:h.a.bool,onSuccess:h.a.func,onError:h.a.func,routeManagerOptions:h.a.object,icon:h.a.oneOfType([h.a.string,h.a.bool]),loadingIcon:h.a.oneOfType([h.a.string,h.a.bool])}),B(R,"defaultProps",{routeManagerOptions:{trigger:!0,replace:!1,preventNavigateBack:c.a.isChatPage()},onSuccess:function(){},onError:function(){},errorContainer:!1,showOnHover:!1,icon:!1,loadingIcon:!1});t.a=Object(r.b)(function(e){return{purchaseUi:e.user.purchaseUi,performer:e.performer}},function(e){return{actions:{unlockWithQuickBuy:function(t){e(_.unlockWithQuickBuy(t))}}}})(R)},"704c":function(e,t,n){e.exports={freechat_title:"_3oCr1Ee7T9ro",content_filters:"_2EQEf3IYmaTw",active:"_3L8Mo4Zvg-FO",disabled:"_1EXxRATeF6Rb"}},"79fd":function(e,t,n){var o=n("3414"),a=n("d869"),r=n("a9a1").store,i=n("0592").default,s=n("c841"),l=n("b8bf"),c=n("b88f").default,u=n("1d57"),p=n("98d2").default,h=n("c5ca"),d=function(e,t){d.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(d,o.Component,{name:a.BiopageContentManagerComponent.NAME,containerId:"container",bioPageContainerId:"inner_container",bioOverlayContainerId:"freechat_container",hasBioPage:!0,wallId:"biopage_wall",biopagePerfimgBoxId:"biopage_perfimg_box",biopagePadlockImgId:"members_only_padlock_img",padlockBlockIconCls:"padlock_icon_block",navigationContainerId:"biopage_gallery_navigation_container",hiddenPerfInputId:"perfId",_biopagePerfImgBoxEl:void 0,biopageImageCls:"biopage_thumbnail_image",snapshotBlockIconCls:"snapshot_icon_block",isOverlay:!1,_bioPageThumbnailCarouselView:void 0,getBioPageContentRoute:"ChatBioPage/Get",getBioOverlayContentRoute:"ChatBioPage/GetDetails",biopagePerformerImageContainerId:"biopage_perfimg_container",imageThumbnailCls:"biopage_thumbnail",becomePremiumMemberOverlayTooltipCls:"open_signup_overlay",performerName:null,init:function(e,t){o.addEvents(a.BiopageContentManagerComponent.GLOBALEVENT_GET_CONTENT_SUCCESS,a.BiopageContentManagerComponent.GLOBALEVENT_BIOPAGE_CONTENT_READY),this._setBiopageContentManagerController(),d.superclass.init.call(this,e,t)},updatePerformerName:function(e){this.performerName=e},getContent:function(){this._biopageContentManagerController.getContent()},removeContent:function(){this._biopageContentManagerController.removeContent(),this.fireEvent(a.BiopageContentManagerComponent.GET_CONTENT_ERROR)},onContentReady:function(){this.setupModelPage(),o.fireEvent(a.BiopageContentManagerComponent.GLOBALEVENT_BIOPAGE_CONTENT_READY,{scope:this})},setupModelPage:function(){this.wallEl=Ext.get(this.wallId),this.setupBiopage(),this.setPerformerWall()},resetModelPage:function(){this.removeContent(),this.getContent(),this._setBiopageContentManagerController(),this.reInitPerformerWall()},setPerformerWall:function(){Ext.fly(this.wallId)&&(this.wall=new h(this.wallId,{}))},setupBiopage:function(){this.hasBioPage&&this.wallEl&&(this.onAddBioPageGalleryImageEvents(),o.on(this.wallEl,"click",this.onBecomePremiumMemberOverlayTooltipClick,this,{delegate:"."+this.becomePremiumMemberOverlayTooltipCls}),Ext.fly(this.navigationContainerId)&&this._setBioPageThumbnailCarouselView())},openSignUpOrPayment:function(e){e.preventDefault(),p.isLoggedIn()?i.navigate("payment",{trigger:!0,preventNavigateBack:!1}):i.navigate("signup",{trigger:!0,preventNavigateBack:!1})},reInitPerformerWall:function(){this.wall&&this.wall.destroy(),Ext.fly(this.wallId)&&(this.wall=new h(this.wallId,{}))},onAddBioPageGalleryImageEvents:function(){this._biopageGalleryImageEl=Ext.get(this.biopagePerfimgBoxId),this._biopageGalleryImageEl&&o.on(this._biopageGalleryImageEl,"click",this.onOpenGalleryClick,this,{delegate:"."+this.imageThumbnailCls}),this._biopageGalleryPadlockImageEl=Ext.get(this.biopagePadlockImgId),this._biopageGalleryPadlockImageEl&&o.on(this._biopageGalleryPadlockImageEl,"click",this.onGalleryPadlockClick,this)},onOpenGalleryClick:function(e){e.preventDefault();var t,n=e.target;this.setGalleryClickedImageTarget(n),t=this.getClickedImagesIndex(),o.Broadcaster.on(a.ModalComponent.GLOBALEVENT_MODAL_OPENED,this.onModalOpened,this),this.isPadlockClick(n)||i.navigate("imagegallery/"+t+"/"+this.getClickedImagesParentId(),{trigger:!0,preventNavigateBack:!0})},onModalOpened:function(e){e.scope.name===a.ImageGalleryModalComponent.NAME&&(o.Broadcaster.un(a.ModalComponent.GLOBALEVENT_MODAL_OPENED,this.onModalOpened,this),o.fireEvent(a.BiopageContentManagerComponent.GLOBALEVENT_BIOPAGE_CONTENT_READY,{scope:this}))},onBecomePremiumMemberOverlayTooltipClick:function(e){e.preventDefault(),this.openSignUpOrPayment(e)},isPadlockClick:function(e){var t=Ext.get(e).parent().hasClass(this.padlockBlockIconCls);return this._biopageGalleryPadlockImageEl&&t||this._biopageGalleryPadlockImageEl&&e===this._biopageGalleryPadlockImageEl.dom},setGalleryClickedImageTarget:function(e){this._galleryClickedImageTarget=e},getGalleryClickedImageTarget:function(){return this._galleryClickedImageTarget},getBiopageImageArray:function(){return this._biopagePerfImgBoxEl=Ext.get(this.biopagePerfimgBoxId),this._biopagePerfImgBoxEl.select("."+this.biopageImageCls)},getClickedImagesIndex:function(){var e=this.getGalleryClickedImageTarget(),t=this.getSnapShotIconBlock();return this.isSnapshotClick(e)&&(e=t.select("."+this.biopageImageCls).item(0).dom),this.getBiopageImageArray().indexOf(e)+1},isSnapshotClick:function(e){var t=this.getSnapShotIconBlock(),n=Ext.get(e).parent().hasClass(this.snapshotBlockIconCls);return t&&n||t&&e===t.dom},getClickedImagesParentId:function(){var e,t=this.getGalleryClickedImageTarget(),n=this.getSnapShotIconBlock();return e=t.parentNode.id,n&&t===n.dom&&(e=t.id),e},getSnapShotIconBlock:function(){return Ext.fly(this.biopagePerfimgBoxId).select("."+this.snapshotBlockIconCls).item(0)},onGalleryPadlockClick:function(e){e.preventDefault(),this.openSignUpOrPayment(e)},_setBioPageThumbnailCarouselView:function(){return this._bioPageThumbnailCarouselView&&(this._bioPageThumbnailCarouselView.unbind(),delete this._bioPageThumbnailCarouselView),this._bioPageThumbnailCarouselView=new u(this.biopagePerformerImageContainerId,{}),this._bioPageThumbnailCarouselView},getBiopageContentManagerController:function(){return this._setBiopageContentManagerController()},_setBiopageContentManagerController:function(){return this._biopageContentManagerController=new s({items:{BiopageContentManagerModel:{component:this._getBiopageContentManagerModel(),listeners:{"get-content-success":"onGetContentSuccess","get-content-error":"onGetContentError"}},BiopageContentManagerView:{component:this._getBiopageContentManagerView(),listeners:{"render-done":"onRenderDone"}}}}),this._biopageContentManagerController.on(a.BiopageContentManagerController.EVENT_RENDER_DONE,this.onContentReady,this),this._biopageContentManagerController},_getBiopageContentManagerModel:function(){var e=this.isOverlay?this.getBioOverlayContentRoute:this.getBioPageContentRoute;return this.model=new l(this.element,{getBioPageRoute:e})},_getBiopageContentManagerView:function(){var e=this.isOverlay?this.bioOverlayContainerId:this.bioPageContainerId;return this._view=new c(this.element,{containerId:e,isOverlay:this.isOverlay,performerNick:this.performerName}),this._view},onPrivateStart:function(){this._biopageContentManagerController.onPrivateStart()},onPrivateEnd:function(){this._biopageContentManagerController.onPrivateEnd()},onCheckMyWallClicked:function(){this._biopageContentManagerController.scrollToBioPageTop()},onFirstBillComplete:function(){this.resetModelPage()},handleStoreChange:function(){r.getState().performer.nick!==this.performerName&&this.removeContent()},bind:function(){d.superclass.bind.call(this),o.Broadcaster.on(a.ModelContentComponent.PERFORMER_GALLERY_DOM_READY,this.onAddBioPageGalleryImageEvents,this),o.Broadcaster.on(a.ModelContentComponent.PERFORMER_WALL_DOM_READY,this.reInitPerformerWall,this),o.Broadcaster.on(a.FlashExternal.GLOBALEVENT_ON_CHECK_MY_WALL_CLICKED,this.onCheckMyWallClicked,this),o.Broadcaster.on(a.ChatPageComponentAbstract.GLOBALEVENT_PRIVATE_START,this.onPrivateStart,this),o.Broadcaster.on(a.ChatPageComponentAbstract.GLOBALEVENT_PRIVATE_END,this.onPrivateEnd,this),o.Broadcaster.on(a.FirstBillController.GLOBALEVENT_FIRSTBILL_COMPLETE,this.onFirstBillComplete,this),o.Broadcaster.on(a.FlashExternal.GLOBALEVENT_GET_PERFORMER_DETAILS,this.removeContent,this),this._unsubscribe=r.subscribe(o.bind(this.handleStoreChange,this))},destroy:function(){d.superclass.destroy.call(this),this._view&&this._view.destroy()},unbind:function(){d.superclass.unbind.call(this),o.Broadcaster.un(a.FlashExternal.GLOBALEVENT_ON_CHECK_MY_WALL_CLICKED,this.onCheckMyWallClicked,this),this._biopageContentManagerController&&(this._biopageContentManagerController.isBeingDestroyed=!0,this._biopageContentManagerController.destroy(),delete this._biopageContentManagerController),o.Broadcaster.un(a.ModelContentComponent.PERFORMER_GALLERY_DOM_READY,this.onAddBioPageGalleryImageEvents,this),o.Broadcaster.un(a.ModelContentComponent.PERFORMER_WALL_DOM_READY,this.reInitPerformerWall,this),o.Broadcaster.un(a.ChatPageComponentAbstract.GLOBALEVENT_PRIVATE_START,this.onPrivateStart,this),o.Broadcaster.un(a.ChatPageComponentAbstract.GLOBALEVENT_PRIVATE_END,this.onPrivateEnd,this),o.Broadcaster.un(a.FirstBillController.GLOBALEVENT_FIRSTBILL_COMPLETE,this.onFirstBillComplete,this),this._unsubscribe()}})},"92aa":function(e,t,n){"use strict";n.r(t);var o=n("3414"),a=n.n(o),r=n("8af1"),i=n.n(r),s=n("63f1"),l=n.n(s),c=n("d869"),u=n.n(c),p=n("cbc5"),h=n("0a81"),d=n("a9a1"),m=n("bc98"),g=n.n(m),f=n("cb4c"),C=n.n(f),b=n("7ab0"),y=n.n(b),E=n("8a2d"),v=n.n(E),_=n("089a"),I=n("b912"),k=n.n(I),w=n("704c"),T=n.n(w);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){var t,n,o=e.performerNick,a=e.setFilterClick,r=e.selectedFilter,s=e.hasFreeContent,l=e.hasPremiumContent;return i.a.createElement("div",{id:"channel_top_block"},i.a.createElement("h1",{className:T.a.freechat_title}," ",o," "),i.a.createElement("div",{id:"content_filter_container",className:T.a.content_filters},i.a.createElement("a",{className:k()(O({},T.a.active,"All"===r)),onClick:function(){a("All")}},Object(_.a)("All Content")),i.a.createElement("a",{className:k()((t={},O(t,T.a.active,"Free"===r),O(t,T.a.disabled,!s),t)),onClick:function(e){s&&a("Free")}},Object(_.a)("Free Content")),i.a.createElement("a",{className:k()((n={},O(n,T.a.active,"Premium"===r),O(n,T.a.disabled,!l),n)),onClick:function(e){l&&a("Premium")}},Object(_.a)("Premium Content"))),i.a.createElement("div",{className:"clear"}))},P=n("b897"),N=n("2334"),S=n("791c"),B=n("0b3c"),L=n("e6c0");function x(){var e=A(["\n    font-size: 16px;\n    margin-right: 5px;\n    color: ",";\n    position: relative;\n\n    &::after {\n        ",";\n        background-image: url(data:image/svg+xml;charset=utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNTEyIDQ4OC4zIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNDg4LjM7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDp1cmwoI1NWR0lEXzFfKTt9PC9zdHlsZT48bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjkuNDE1NzQ4ZS0wMyIgeTE9Ii0xNjMuODUiIHgyPSI1MTEuOTc2NiIgeTI9Ii0xNjMuODUiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgMSAwIDQwOCkiPjxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNGRkNDMDAiLz48c3RvcCAgb2Zmc2V0PSIwLjYiIHN0eWxlPSJzdG9wLWNvbG9yOiNGRkNDMDA7c3RvcC1vcGFjaXR5OjAiLz48L2xpbmVhckdyYWRpZW50PjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik01MDQsMjAzLjlsLTExMS43LDEwOWwyNi41LDE1My45YzEsNi44LDAuNCwxMi4xLTEuOSwxNS45cy01LjcsNS43LTEwLjUsNS43Yy0zLjUsMC03LjYtMS4yLTEyLjMtMy43TDI1Niw0MTJsLTEzOC4yLDcyLjZjLTQuNywyLjUtOC44LDMuNy0xMi4zLDMuN2MtNC43LDAtOC4yLTEuOS0xMC41LTUuN2MtMi4zLTMuOC0yLjktOS4xLTEuOC0xNS45bDI2LjUtMTUzLjlMNy43LDIwMy45Yy02LjYtNi42LTguOS0xMi43LTcuMS0xOC4zUzgsMTc2LjQsMTcuMiwxNzVsMTU0LjUtMjIuNWw2OS4yLTE0MEMyNDUsNC4xLDI1MC4xLTAuMSwyNTYtMC4xYzUuNywwLDEwLjgsNC4yLDE1LjEsMTIuNmw2OS4yLDE0MEw0OTQuOCwxNzVjOS4yLDEuNCwxNC44LDUsMTYuNiwxMC42QzUxMy4yLDE5MS4zLDUxMC44LDE5Ny40LDUwNCwyMDMuOXoiLz48dGl0bGU+c3RhcjwvdGl0bGU+PC9zdmc+);\n        left: 0;\n        opacity: 1;\n        z-index: 1;\n        position: absolute;\n        top: 0;\n        display: inline-block;\n        height: 100%;\n        width: 100%;\n        background-position: center;\n        background-repeat: no-repeat;\n    }\n"]);return x=function(){return e},e}function R(){var e=A(["\n    display: flex;\n"]);return R=function(){return e},e}function A(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j=B.d.div(R()),F=B.d.i(x(),function(e){return e.empty?"hsla(0, 0%, 80%, 0.6)":"#fc0"},function(e){return e.half&&"content: '';"}),D=function(e){var t=e.starCount,n=e.value;return i.a.createElement(j,{"data-testid":"RatingStarsStarsContainer"},Array.from({length:t},function(e,t){return i.a.createElement(F,{key:"star_".concat(t),half:t+1>n&&t<n,empty:n<t+1,"data-testid":"RatingStarsIconWrapper"},i.a.createElement(L.a,{icon:"star","data-testid":"RatingStarsIcon"}))}))};function W(){var e=q(["\n    font-size: 12px;\n    line-height: 14px;\n    padding-top: 10px;\n"]);return W=function(){return e},e}function G(){var e=q(["\n    text-transform: uppercase;\n    font-size: 10px;\n    line-height: 11px;\n    margin-bottom: 14px;\n"]);return G=function(){return e},e}function V(){var e=q(["\n    font-size: 20px;\n    line-height: 24px;\n    margin-bottom: 3px;\n    letter-spacing: 0.3px;\n    span {\n        font-weight: 300;\n    }\n\n    strong {\n        font-weight: bold;\n    }\n"]);return V=function(){return e},e}function z(){var e=q(["\n    display: flex;\n    flex-direction: column;\n    font-family: Roboto, sans-serif;\n"]);return z=function(){return e},e}function U(){var e=q(["\n    display: flex;\n    flex-direction: column;\n    margin-left: 20px;\n    justify-content: center;\n"]);return U=function(){return e},e}function H(){var e=q(["\n    display: flex;\n"]);return H=function(){return e},e}function q(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Y=B.d.div(H()),Q=B.d.div(U()),Z=B.d.div(z()),J=B.d.span(V()),X=B.d.span(G()),K=B.d.div(W()),ee=function(e){var t=e.about,n=e.avatar,o=e.age,a=e.breast,r=e.penis,s=e.awards,l=e.gender,c=e.itemId,u=e.name,p=e.averageRating,h=e.totalVotes,d=e.isExclusivePerformer;return i.a.createElement("article",{id:c,className:"rating_container bio_content","data-rating":p,"data-isotope-sort":"0"},i.a.createElement("div",null,i.a.createElement(Y,{"data-testid":"BioBioTopSection"},i.a.createElement(N.a,{src:n,alt:"".concat(u,"'s profile picture"),"data-testid":"BioProfilePictureWithMyStory"}),i.a.createElement(Q,{"data-testid":"BioInfoSection"},d&&i.a.createElement(Z,{"data-testid":"BioExclusivePerformer"},i.a.createElement(J,{"data-testid":"BioExclusivePerformerText"},i.a.createElement(S.a,{as:"span"},"Exclusive Model")),i.a.createElement(X,{"data-testid":"BioExclusivePerformerLabel"},i.a.createElement(S.a,null,"only available on livejasmin"))),i.a.createElement(D,{starCount:5,value:p,totalVotes:h,"data-testid":"BioRatingStars"}),i.a.createElement(K,{"data-testid":"BioStyledTotalVotes"},h," ",i.a.createElement(S.a,null,"rates")))),i.a.createElement("p",null,t),i.a.createElement("div",{className:"awards"},i.a.createElement("em",{className:"n1 ".concat(0===s.firstRankCount&&"zero")},i.a.createElement("i",null,i.a.createElement(P.a,{icon:"trophy","data-testid":"BioIcon"})),i.a.createElement("span",null,i.a.createElement("strong",null,Object(_.a)("Awards")),i.a.createElement("span",null,Object(_.a)("1st place")))),i.a.createElement("em",{className:"n2 ".concat(0===s.secondRankCount&&"zero")},i.a.createElement("i",null,i.a.createElement(P.a,{icon:"trophy","data-testid":"BioIcon"})),i.a.createElement("span",null,i.a.createElement("strong",null,Object(_.a)("Awards")),i.a.createElement("span",null,Object(_.a)("2nd place")))),i.a.createElement("em",{className:"n3 ".concat(0===s.thirdRankCount&&"zero")},i.a.createElement("i",null,i.a.createElement(P.a,{icon:"trophy","data-testid":"BioIcon"})),i.a.createElement("span",null,i.a.createElement("strong",null,Object(_.a)("Awards")),i.a.createElement("span",null,Object(_.a)("3rd place"))))),i.a.createElement("div",{className:"model-info"},i.a.createElement("em",null,i.a.createElement("strong",null,o),i.a.createElement("span",null,Object(_.a)("Age"))),i.a.createElement("em",null,i.a.createElement("strong",null,"male"===l?r:a),i.a.createElement("span",null,"male"===l?Object(_.a)("Penis size"):Object(_.a)("Breast size"))),i.a.createElement("em",null,i.a.createElement("strong",null,l),i.a.createElement("span",null,Object(_.a)("Gender"))))))},te=n("0592"),ne=n("ebf9"),oe=n.n(ne),ae=function(e){var t,n=e.noteText,o=e.itemId,a=e.performerNick,r=(t=n).length<=10?oe.a.size_1:t.length>10&&t.length<=30?oe.a.size_2:t.length>30&&t.length<=60?oe.a.size_3:t.length>60&&t.length<=80?oe.a.size_4:t.length>80&&t.length<=100?oe.a.size_5:oe.a.size_6;return i.a.createElement("article",{id:o,className:oe.a.note,onClick:function(){return function(e,t){te.default.navigate("photoviewer/"+t+"/note/"+e,{trigger:!0,replace:!1,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:y.a.isChatPage()})}(o,a)}},i.a.createElement("div",null,i.a.createElement("p",{className:r,dangerouslySetInnerHTML:{__html:n}})))};ae.propTypes={noteText:v.a.string.isRequired,itemId:v.a.string.isRequired,performerNick:v.a.string.isRequired};var re=ae,ie=n("5e2f");function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ue(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var de=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ue(this,pe(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(t,i.a.PureComponent),n=t,(o=[{key:"render",value:function(){var e,t=this,n=k()(oe.a.content,(le(e={},oe.a.locked,"locked"===this.props.status),le(e,oe.a.unlocked,"unlocked"===this.props.status),e));return i.a.createElement("article",{id:this.props.itemId,className:oe.a.item,onClick:function(){return e=t.props.itemId,n=t.props.performerNick,void te.default.navigate("photoviewer/"+n+"/picture/"+e,{trigger:!0,replace:!1,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:y.a.isChatPage()});var e,n}},"exclusive"===this.props.privacy&&i.a.createElement("span",{className:oe.a.ribbon,"data-title":Object(_.a)("Premium")}),i.a.createElement("div",{style:{height:"".concat(this.props.preloadInfo.height,"px"),backgroundColor:this.props.preloadInfo.backgroundColor}},i.a.createElement("div",{className:oe.a.cover},i.a.createElement("img",{src:this.props.previewImage,alt:"".concat(this.props.performerNick,"'s hot photo – thumbnail")})),i.a.createElement("div",{className:n},"locked"===this.props.status&&i.a.createElement(ie.a,{id:this.props.itemId,performerNick:this.props.performerNick,title:Object(_.a)("Unlock my album"),errorContainer:!y.a.isChatPage()&&"#chatblock",showOnHover:!0,icon:"lockheart",loadingIcon:"lockheart-open",price:this.props.price,routeManagerOptions:{trigger:!0,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:!1},"data-testid":"ImageUnlockButton"})),i.a.createElement("div",{className:oe.a.info},"unlocked"===this.props.status&&i.a.createElement("span",{className:oe.a.status},Object(_.a)("Unlocked")))))}}])&&ce(n.prototype,o),a&&ce(n,a),t}();de.propTypes={previewImage:v.a.string.isRequired,itemId:v.a.string.isRequired,preloadInfo:v.a.object.isRequired,performerNick:v.a.string.isRequired,privacy:v.a.string.isRequired,status:v.a.string.isRequired,price:v.a.number};var me=de;function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function be(e,t){return!t||"object"!==ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ve=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),be(this,ye(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(t,i.a.PureComponent),n=t,(o=[{key:"render",value:function(){var e,t=this,n={1:oe.a.montage_one_pic,2:oe.a.montage_two_pic,3:oe.a.montage_three_pic,4:oe.a.montage_four_pic},o=k()(oe.a.content,oe.a.album,(fe(e={},oe.a.locked,"locked"===this.props.status),fe(e,oe.a.unlocked,"unlocked"===this.props.status),e));return i.a.createElement("article",{className:oe.a.item,onClick:function(){return e=t.props.itemId,n=t.props.performerNick,void te.default.navigate("photoviewer/"+n+"/picture/"+e,{trigger:!0,replace:!1,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:y.a.isChatPage()});var e,n}},"exclusive"===this.props.privacy&&i.a.createElement("span",{className:oe.a.ribbon,"data-title":Object(_.a)("Premium")}),i.a.createElement("div",{style:{backgroundColor:this.props.preloadInfo.backgroundColor}},i.a.createElement("div",{className:"permanent_content_shadow_mask"}),i.a.createElement("div",{className:oe.a.label},Object(_.a)("Photo Album")),i.a.createElement("div",{className:n[this.props.images.length]},this.props.images.map(function(e,n){return i.a.createElement("img",{key:"".concat(t.props.itemId).concat(n),src:e,alt:"".concat(t.props.performerNick,"'s hot photo – thumbnail")})})),i.a.createElement("div",{className:o},i.a.createElement("div",{className:oe.a.folder},i.a.createElement(P.a,{icon:"folder","data-testid":"AlbumMontageIcon"}),this.props.title&&i.a.createElement("strong",{className:oe.a.title},i.a.createElement("span",null,this.props.title))),"locked"===this.props.status?i.a.createElement(ie.a,{id:this.props.itemId,title:Object(_.a)("Unlock my album"),errorContainer:!y.a.isChatPage()&&"#chatblock",performerNick:this.props.performerNick,icon:"lockheart",loadingIcon:"lockheart-open",caption:this.props.title,price:this.props.price,routeManagerOptions:{trigger:!0,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:!1},"data-testid":"AlbumMontageUnlockButton"}):""),i.a.createElement("div",{className:oe.a.info},"unlocked"===this.props.status&&i.a.createElement("span",{className:oe.a.status},Object(_.a)("Unlocked")))))}}])&&Ce(n.prototype,o),a&&Ce(n,a),t}();ve.propTypes={previewImage:v.a.string.isRequired,itemId:v.a.string.isRequired,performerNick:v.a.string.isRequired,status:v.a.string.isRequired,preloadInfo:v.a.object.isRequired,price:v.a.number};var _e=ve,Ie=n("bf25");function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Oe(e,t){return!t||"object"!==ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ne=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Oe(this,Me(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(t,i.a.PureComponent),n=t,(o=[{key:"formattedDuration",value:function(e){var t=Object(Ie.addSeconds)(new Date(0),e);return Object(Ie.format)(t,"mm:ss")}},{key:"render",value:function(){var e,t=k()(oe.a.content,(we(e={},oe.a.visible,this.props.error||this.props.loading),we(e,oe.a.locked,"locked"===this.props.status),we(e,oe.a.unlocked,"unlocked"===this.props.status),e)),n=this.props.itemId,o=this.props.performerNick,a=this.props.status,r=this.props.views;return i.a.createElement("article",{id:n,className:oe.a.item,onClick:function(){return function(e,t){te.default.navigate("photoviewer/"+t+"/video/"+e,{trigger:!0,replace:!1,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:y.a.isChatPage()})}(n,o)}},"exclusive"===this.props.privacy&&i.a.createElement("span",{className:oe.a.ribbon,"data-title":Object(_.a)("Premium")}),i.a.createElement("div",{id:"video_".concat(n),style:{height:"".concat(this.props.preloadInfo.height,"px"),backgroundColor:this.props.preloadInfo.backgroundColor}},i.a.createElement("div",{className:oe.a.label},Object(_.a)("Video")),i.a.createElement("div",{className:oe.a.cover},i.a.createElement("img",{src:this.props.previewImage,alt:"".concat(o,"'s hot video")})),i.a.createElement("div",{className:t},i.a.createElement("div",{className:oe.a.video_icon},i.a.createElement(P.a,{className:oe.a.video,icon:"play-button","data-testid":"VideoIcon"})),"locked"===a?i.a.createElement(ie.a,{id:n,title:Object(_.a)("Unlock my video"),icon:"lockheart",loadingIcon:"lockheart-open",performerNick:o,errorContainer:!y.a.isChatPage()&&"#chatblock",price:this.props.price,caption:this.props.title,routeManagerOptions:{trigger:!0,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:!1},"data-testid":"VideoUnlockButton"}):""),i.a.createElement("div",{className:oe.a.info},r&&i.a.createElement("span",{className:oe.a.views},i.a.createElement(P.a,{icon:"view","data-testid":"VideoIcon"}),i.a.createElement("span",null,r)),i.a.createElement("span",{className:oe.a.duration},i.a.createElement(P.a,{icon:"time","data-testid":"VideoIcon"}),i.a.createElement("span",null,this.formattedDuration(this.props.duration))),"unlocked"===this.props.status&&i.a.createElement("span",{className:oe.a.status},Object(_.a)("Unlocked")))))}}])&&Te(n.prototype,o),a&&Te(n,a),t}();Ne.propTypes={itemId:v.a.string.isRequired,previewImage:v.a.string.isRequired,performerNick:v.a.string.isRequired,preloadInfo:v.a.object.isRequired,status:v.a.string,duration:v.a.number,price:v.a.number};var Se=Ne,Be=n("28a0"),Le=n.n(Be),xe=n("91b6"),Re=n.n(xe),Ae=n("a88d"),je=n.n(Ae),Fe=(n("331f"),n("ff28"),n("f8a3")),De=n.n(Fe),We=n("3dde"),Ge=n.n(We),Ve=n("f43c"),ze=n.n(Ve);function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Je=function(e){function t(){var e,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return o=this,n=!(a=(e=qe(t)).call.apply(e,[this].concat(s)))||"object"!==Ue(a)&&"function"!=typeof a?Qe(o):a,Ze(Qe(Qe(n)),"iso",null),Ze(Qe(Qe(n)),"isotopeContainer",i.a.createRef()),Ze(Qe(Qe(n)),"state",{imagesLoaded:!1}),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(t,i.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){this.initializeIsotope()}},{key:"componentWillUnmount",value:function(){this.destroyIsotope()}},{key:"shouldComponentUpdate",value:function(e,t){return!De()(this.props,e)||!je()(this.state,t)}},{key:"componentDidUpdate",value:function(e,t){var n=i.a.Children.map(e.children,function(e){return e&&e.key}),o=i.a.Children.map(this.props.children,function(e){return e&&e.key}),a=ze()(o,n),r=ze()(n,o);r.length>0&&(this.iso.remove(Ge()(r,function(e){return document.getElementById(e)})),this.iso.reloadItems(),this.iso.arrange()),a.length>0&&(this.iso.appended(Ge()(a,function(e){return document.getElementById(e)})),this.iso.reloadItems(),this.iso.arrange(),this.imagesLoaded()),e.appletLayout!==this.props.appletLayout&&this.imagesLoaded()}},{key:"initializeIsotope",value:function(){this.createIsotopeContainer(),i.a.Children.count(this.props.children)>0&&this.iso.arrange(),this.imagesLoaded(),$("#channel_block_container").removeClass("hidden")}},{key:"destroyIsotope",value:function(){null!==this.iso&&(this.iso.destroy(),this.iso=null)}},{key:"createIsotopeContainer",value:function(){null===this.iso&&(this.iso=new Le.a(this.isotopeContainer.current,{itemSelector:"article",layoutMode:"masonry",animationEngine:"css",transitionDuration:".3s",containerStyle:{position:"relative",opacity:1},packery:{columnWidth:".grid-sizer"}}))}},{key:"imagesLoaded",value:function(){var e=this;Re()(this.isotopeContainer.current,function(t){e.iso&&e.iso.layout()})}},{key:"render",value:function(){return i.a.createElement("section",{id:"channel_inner_content",className:"isotope",style:{opacity:0!==i.a.Children.count(this.props.children)?1:0},ref:this.isotopeContainer},i.a.createElement("div",{className:"grid-sizer"}),this.props.children)}}])&&He(n.prototype,o),a&&He(n,a),t}(),Xe=n("98f1"),Ke=n.n(Xe);function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rt=function(e){function t(){var e,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return o=this,a=(e=tt(t)).call.apply(e,[this].concat(s)),n=!a||"object"!==$e(a)&&"function"!=typeof a?ot(o):a,at(ot(ot(n)),"wallRef",i.a.createRef()),at(ot(ot(n)),"state",{wallHeight:!1}),at(ot(ot(n)),"setFilterClick",function(e){n.props.onFilterItems(e),n.setState({wallHeight:n.wallRef.current.clientHeight})}),at(ot(ot(n)),"getItems",function(e){var t=e.bio,n=Ke()(e,function(e){return"bio"!==e.type});return t&&n.unshift(t),n}),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(t,i.a.PureComponent),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.selectedFilter,n=e.hasFreeContent,o=e.hasPremiumContent,a=e.appletLayout,r=e.items,s=e.isLoadingOnShowMore,l=e.isInsideWallLoading,c=e.performer,u=c.nick,p=c.wallIds,h=this.wallRef,d=this.setFilterClick,m=this.getItems,g=this.state.wallHeight;return 0===p.length?null:i.a.createElement("div",{ref:h},u&&i.a.createElement(M,{performerNick:u,selectedFilter:t,setFilterClick:d,hasFreeContent:n,hasPremiumContent:o,"data-testid":"WallWallHeader"}),l?i.a.createElement("div",{style:{height:g?"".concat(g,"px"):"200px"}},i.a.createElement("div",{className:"chat_block_loader"}," ")):i.a.createElement("div",{id:"channel_block_inner"},i.a.createElement(Je,{appletLayout:a,"data-testid":"WallIsotopeLayout"},m(r).map(function(e){return function(e,t){switch(e.type){case"bio":return i.a.createElement(ee,{key:"bio",itemId:"bio",avatar:e.avatar,age:e.age,breast:e.breast,penis:e.penis,gender:e.gender,name:t,awards:e.awardsRank,about:e.aboutMe,averageRating:e.rating.average,totalVotes:e.rating.totalVotes,isExclusivePerformer:e.isExclusive,"data-testid":"WallBioContent"});case"note":return i.a.createElement(re,{key:e.id,noteText:e.noteText,itemId:e.id,performerNick:t,"data-testid":"WallNoteContent"});case"image":return i.a.createElement(me,{key:e.id,itemId:e.id,previewImage:e.previewImage,performerNick:t,preloadInfo:e.preloadInfo,privacy:e.privacy,status:e.status,price:e.price,"data-testid":"WallImageContent"});case"video":return i.a.createElement(Se,{key:e.id,itemId:e.id,previewImage:e.previewImage,performerNick:t,privacy:e.privacy,status:e.status,preloadInfo:e.preloadInfo,createdAt:e.createdAt,duration:e.duration,price:e.price,views:e.views,title:e.title,"data-testid":"WallVideoContent"});case"album":return i.a.createElement(_e,{key:e.id,itemId:e.id,previewImage:e.previewImage,performerNick:t,privacy:e.privacy,status:e.status,preloadInfo:e.preloadInfo,price:e.price,title:e.title,images:e.images,"data-testid":"WallAlbumMontage"})}}(e,u)})),s&&i.a.createElement("div",{className:"chat_block_loader"}," ")))}}])&&et(n.prototype,o),a&&et(n,a),t}();rt.propTypes={items:E.object.isRequired,performer:E.object.isRequired,appletLayout:E.string.isRequired,onFilterItems:E.func.isRequired,isLoadingOnShowMore:E.bool.isRequired,isInsideWallLoading:E.bool.isRequired};var it=rt,st=n("7984");function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){mt(e,t,n[t])})}return e}function ut(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gt=function(e){function t(){var e,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return o=this,a=(e=pt(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==lt(a)&&"function"!=typeof a?dt(o):a,mt(dt(dt(n)),"state",{isWallLoading:!0,isInsideWallLoading:!1,isLoadingOnShowMore:!1,lastItemTimeStamp:{All:0,Free:0,Premium:0},hasShowMorePages:{All:!1,Free:!1,Premium:!1},hasFreeContent:!0,hasPremiumContent:!0,filterSelected:"All",scrollTop:-1,filterChange:!1}),mt(dt(dt(n)),"showMoreOffset",n.props.showMoreOffset||50),mt(dt(dt(n)),"standaloneShowMoreOffset",300),mt(dt(dt(n)),"fetchContent",function(e){var t=n.state,o=t.lastItemTimeStamp,a=t.filterSelected,r=n.props.performer.nick,i=o[a];!r||e&&i>0||(0===i?n.fetchInitialContent(r,a,i):n.fetchMoreContent(r,a,i))}),mt(dt(dt(n)),"handleScroll",function(e){var t=n.state,o=t.isLoadingOnShowMore,a=t.isInsideWallLoading,r=t.filterSelected,i=t.hasShowMorePages,s=e.target,l=s.scrollHeight-s.scrollTop<=s.clientHeight+n.showMoreOffset,c=Math.round($(window).scrollTop())+$(window).innerHeight()>=$(document).height()-n.standaloneShowMoreOffset;(y.a.isChatPage()?c:l)&&!o&&!a&&i[r]&&n.fetchContent()}),mt(dt(dt(n)),"handleScrollThrottle",C()(n.handleScroll,300)),mt(dt(dt(n)),"onFilterItems",function(e){n.setState({filterSelected:e,scrollTop:n.getContainerScrollTop(),filterChange:!0})}),mt(dt(dt(n)),"addContentBasedOnFilter",function(e){var t=n.props.addContentToWall;switch(n.state.filterSelected){case"All":t(ct({},e.items,{bio:e.bio}));break;case"Free":case"Premium":t(e.items)}}),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(t,i.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){this.fetchContent(),document.getElementById("channel_block_container").classList.remove("hidden"),document.getElementById("chatblock").addEventListener("scroll",this.handleScrollThrottle),window.addEventListener("scroll",this.handleScrollThrottle)}},{key:"componentWillUnmount",value:function(){document.getElementById("chatblock").removeEventListener("scroll",this.handleScrollThrottle),window.removeEventListener("scroll",this.handleScrollThrottle)}},{key:"componentDidUpdate",value:function(e,t,n){var o=this,a=this.props,r=a.performer.nick,i=a.user.type,s=a.removeAllContentFromWall,l=this.state,c=l.filterSelected,u=l.isLoadingOnShowMore,p=l.lastItemTimeStamp,h=!1!==r&&e.performer.nick!==r,d=e.user.type!==i;if((h||d)&&this.setState({lastItemTimeStamp:{All:0,Free:0,Premium:0},hasShowMorePages:{All:!1,Free:!1,Premium:!1},isWallLoading:!0,filterSelected:"All",scrollTop:-1,filterChange:!1},function(){s(),o.fetchContent()}),this.state.isInsideWallLoading!==t.isInsideWallLoading&&this.state.scrollTop>0&&this.state.filterChange&&this.setContainerScrollTop(this.state.scrollTop),c===t.filterSelected){var m=g()(Object.values(this.walItems),function(e){return e.createdAt}),f=t.lastItemTimeStamp[c];m&&m.createdAt!==f&&!u&&this.setState({lastItemTimeStamp:ct({},p,mt({},c,m.createdAt))})}else this.fetchContent(!0)}},{key:"getContainerScrollTop",value:function(){return y.a.isChatPage()?document.getElementById("chathtml5.performer").scrollTop:document.getElementById("chatblock").scrollTop}},{key:"setContainerScrollTop",value:function(e){return y.a.isChatPage()?document.getElementById("chathtml5.performer").scrollTop=e:document.getElementById("chatblock").scrollTop=e}},{key:"resetLoading",value:function(){this.setState({isWallLoading:!1,isLoadingOnShowMore:!1,isInsideWallLoading:!1})}},{key:"fetchInitialContent",value:function(e,t,n){var o=this,a=this.props.getBioPageWall;this.setState({isInsideWallLoading:!0}),Object(st.b)(e,t,n).then(function(e){o.addContentBasedOnFilter(e),o.setState({isInsideWallLoading:!1,isWallLoading:!1,hasFreeContent:e.hasFree,hasPremiumContent:e.hasExclusive,hasShowMorePages:ct({},o.state.hasShowMorePages,mt({},t,!e.isLastPage))})}).catch(function(t){o.resetLoading(),a(e),document.getElementById("channel_block_container").classList.add("hidden")})}},{key:"fetchMoreContent",value:function(e,t,n){var o=this;this.setState({isLoadingOnShowMore:!0}),Object(st.a)(e,t,n).then(function(e){o.props.addContentToWall(e.items),o.setState({isLoadingOnShowMore:!1,isWallLoading:!1,hasShowMorePages:ct({},o.state.hasShowMorePages,mt({},t,!e.isLastPage))})}).catch(function(e){o.setState({isLoadingOnShowMore:!1,hasShowMorePages:{All:!1,Free:!1,Premium:!1},isWallLoading:!1,isInsideWallLoading:!1})})}},{key:"render",value:function(){var e=this.onFilterItems,t=this.state,n=this.props,o=this.walItems,a=n.performer,r=n.appletLayout,s=t.isWallLoading,l=t.hasFreeContent,c=t.hasPremiumContent,u=t.isLoadingOnShowMore,p=t.isInsideWallLoading,h=t.filterSelected;return!1===a.nick?null:s?i.a.createElement("div",{className:"chat_block_loader"}," "):i.a.createElement(it,{items:o,hasFreeContent:l,hasPremiumContent:c,performer:a,appletLayout:r,isLoadingOnShowMore:u,isInsideWallLoading:p,onFilterItems:e,selectedFilter:h,"data-testid":"WallContainerWall"})}},{key:"walItems",get:function(){var e=this.props.performer,t=e.wallIds,n=e.byId,o={};switch(this.state.filterSelected){case"All":return t.map(function(e){return o[e]=n[e]}),o;case"Free":return t.map(function(e){var t=n[e];if("public"===t.privacy||"note"===t.type)return o[t.id]=t}),o;case"Premium":return t.map(function(e){var t=n[e];if("exclusive"===t.privacy)return o[t.id]=t}),o}}}])&&ut(n.prototype,o),a&&ut(n,a),t}(),ft={addContentToWall:p.addContentToWall,removeAllContentFromWall:p.removeAllContentFromWall},Ct=Object(h.b)(function(e){var t="fluid"===e.applet.stream.size?"fluid":"fix";return{performer:e.performer,user:e.user,isOverlayOpened:e.ui.isOverlayOpened,appletLayout:t}},ft)(gt),bt=n("79fd"),yt=n.n(bt),Et=function e(t,n){e.superclass.constructor.call(this,t,n)};Ext.extend(Et,a.a.Component,{name:u.a.ModelContentComponent.NAME,scheduledShowEl:"scheduled_show_block",_currentPageType:void 0,_maskElement:void 0,_refreshContentByOrderCmp:void 0,chatContainerId:"freechat_container",chatComponent:null,_isFirstLoad:!0,scheduledShowReqInProgress:!1,channelWallBlockId:"channel_wall_block",freechatId:"freechat",memberClientId:"member_client_container",chatblockId:"chatblock",delayedLoadTimeout:4e3,init:function(e,t){Et.superclass.init.call(this,e,t),this.wallContentBlock=document.getElementById("channel_wall_block"),this._channelWallBlockEl=Ext.get(this.channelWallBlockId),this.freechatEl=Ext.get(this.freechatId),this.memberClientEl=Ext.get(this.memberClientId),this.chatBlockEl=Ext.get(this.chatblockId),y.a.isChatPage()||this.renderModelContent()},renderModelContent:function(){var e=this;l.a.render(i.a.createElement(h.a,{store:d.store,"data-testid":"ModelContentComponentProvider"},i.a.createElement(Ct,{getBioPageWall:function(t){e.getBiopageContentManagerComponent(t).getContent()},"data-testid":"ModelContentComponentWallContainer"})),this.wallContentBlock),this.loadContent()},destroyMyContentWall:function(){l.a.unmountComponentAtNode(this.wallContentBlock)},loadContent:function(){this._isFirstLoad&&(this._isFirstLoad=!1)},onAppletReady:function(){y.a.isChatPage()&&this.renderModelContent()},openPaymentModal:function(){a.a.Config.get("isOnPrivate")?window.open(a.a.getUrl("Credit/Index"),"_blank"):(y.a.isChatPage()||a.a.Cookie.set("incompleted-booking",d.store.getState().performer.nick,1800),te.default.navigate("payment",{trigger:!0,preventNavigateBack:!1}))},onModalClosed:function(e){e.scope.name===u.a.ChatModalComponent.NAME&&(this._biopageContentManagerComponent&&this._biopageContentManagerComponent.removeContent(),this._perfName=null)},onDefaultRouteCalled:function(){y.a.isChatPage()||d.store.dispatch(Object(p.resetPerformerNick)())},onBecomePremiumMemberClick:function(){this._startPaymentProcess()},_startPaymentProcess:function(){te.default.navigate("payment",{trigger:!0,preventNavigateBack:!1,replace:!1})},getBiopageContentManagerComponent:function(e){return this._biopageContentManagerComponent instanceof yt.a?this._biopageContentManagerComponent.updatePerformerName(e):this._biopageContentManagerComponent=new yt.a(this.element,{performerName:e,containerId:"inner_container",isOverlay:!y.a.isChatPage()}),this._biopageContentManagerComponent},_updatePerformerData:function(){var e=y.a.getAppletVars();this._perfName=e.performerid||e.performer_id},onFreeChatModelChange:function(e){},onLoggedIn:function(){},onAfterSignupSuccess:function(){},onCheckMyWallClicked:function(){y.a.isChatPage()?this.scrollToElement(this._channelWallBlockEl):this.scrollToModalWall()},scrollToElement:function(e){TweenLite.to("html, body",.7,{scrollTop:e.getTop(),ease:Cubic.easeOut})},scrollToModalWall:function(){var e=a.a.Config.get("OverlayAppletType")===u.a.appletType.HTML5?this.memberClientEl:this.freechatEl,t=e.getHeight(),n=parseInt(e.getStyle("marginTop"));TweenLite.to(this.chatBlockEl.dom,.7,{scrollTop:t+n,ease:Cubic.easeOut})},onRecommenderClick:function(){this._isFirstLoad=!1,this._perfName=null},bind:function(){Et.superclass.bind.call(this),a.a.on([{element:a.a.Broadcaster,event:u.a.ChatPageComponentAbstract.GLOBALEVENT_APPLET_RECOMMENDER_CLICK,handler:this.onRecommenderClick},{element:a.a.Broadcaster,event:u.a.PhotoViewerComponent.GLOBALEVENT_BECOME_PREMIUM_MEMBER_CLICK,handler:this.onBecomePremiumMemberClick},{element:a.a.Broadcaster,event:u.a.BasicController.GLOBALEVENT_AFTER_SIGNUP_SUCCESS,handler:this.onAfterSignupSuccess},{element:a.a.Broadcaster,event:u.a.BasicController.GLOBALEVENT_LOGGED_IN,handler:this.onLoggedIn},{element:a.a.Broadcaster,event:u.a.ChatPageComponentAbstract.GLOBALEVENT_SET_MODEL_FROM_HISTORY,handler:this.getNextModel},{element:a.a.Broadcaster,event:u.a.FlashExternal.GLOBALEVENT_GET_PERFORMER_DETAILS,handler:this.onFreeChatModelChange},{element:a.a.Broadcaster,event:u.a.FlashExternal.GLOBALEVENT_ON_CHECK_MY_WALL_CLICKED,handler:this.onCheckMyWallClicked},{element:a.a.Broadcaster,event:u.a.FlashExternal.GLOBALEVENT_APPLET_LOGIN,handler:this.onLoggedIn},{element:a.a.Broadcaster,event:u.a.ModalComponent.GLOBALEVENT_MODAL_CLOSED,handler:this.onModalClosed},{element:a.a.Broadcaster,event:u.a.FlashExternal.GLOBALEVENT_APPLET_READY,handler:this.onAppletReady},{element:a.a.Broadcaster,event:u.a.RouteManager.GLOBALEVENT_DEFAULT_ROUTE_CALLED,handler:this.onDefaultRouteCalled}],this)},unbind:function(){Et.superclass.unbind.call(this),this.destroyMyContentWall()}});t.default=Et},b88f:function(e,t,n){"use strict";n.r(t);var o=n("d869"),a=n.n(o),r=n("7ab0"),i=n.n(r),s=n("2ce3"),l=n.n(s),c=n("8af1"),u=n.n(c),p=n("63f1"),h=n.n(p),d=n("2334"),m=n("a9a1"),g=n("0a81");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t,n){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){function t(){var e,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return o=this,n=!(a=(e=y(t)).call.apply(e,[this].concat(i)))||"object"!==f(a)&&"function"!=typeof a?v(o):a,_(v(v(n)),"name","BiopageContentManagerView"),_(v(v(n)),"containerId","inner_container"),_(v(v(n)),"biopageContainerId","biopage_container"),_(v(v(n)),"_willingnessWrapperClass",".willingness_wrapper"),_(v(v(n)),"isOverlay",!1),_(v(v(n)),"appletFullLayout","full"),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,l.a),n=t,(o=[{key:"init",value:function(e,n){b(y(t.prototype),"init",this).call(this,e,n),this.addEvents(a.a.BiopageContentManagerView.EVENT_RENDER_DONE),this._containerEl=document.getElementById(this.containerId)||this.element.dom,this.biopagecontainerEl=Ext.get(this.biopageContainerId)}},{key:"scrollToBioPageTop",value:function(){i.a.isChatPage()?this.scrollToElement(this.biopagecontainerEl):this.scrollToModalWall()}},{key:"renderContent",value:function(e){this.removeContent(),Ext.DomHelper.append(this._containerEl,e);var t=document.getElementById("biopage_profile_picture"),n=t.dataset.src;return t&&h.a.render(u.a.createElement(g.a,{store:m.store,"data-testid":"BiopageContentManagerViewProvider"},u.a.createElement(d.a,{src:n,alt:"".concat(this.performerNick,"'s profile picture"),"data-testid":"BiopageContentManagerViewProfilePictureWithMyStory"})),t),this.fireEvent(a.a.BiopageContentManagerView.EVENT_RENDER_DONE),this}},{key:"isAppletIsFullSized",value:function(){return Ext.get("chatblock").hasClass(this.appletFullLayout)}},{key:"saveBiopageContainerEl",value:function(){this._biopageContainerEl=Ext.get(this.biopageContainerId)}},{key:"removeContent",value:function(){this.saveBiopageContainerEl();var e=document.getElementById("biopage_profile_picture");this._biopageContainerEl&&e&&(h.a.unmountComponentAtNode(e),this._biopageContainerEl.remove())}},{key:"showMask",value:function(){this._willingnessWrapperEl=this.element.select(this._willingnessWrapperClass).item(0),this._willingnessWrapperEl&&this._willingnessWrapperEl.addClass("masked")}},{key:"hideMask",value:function(){this._willingnessWrapperEl&&this._willingnessWrapperEl.removeClass("masked")}}])&&C(n.prototype,o),r&&C(n,r),t}();t.default=I},b8bf:function(e,t,n){var o=n("3414"),a=n("d869"),r=n("5f9e"),i=function(e,t){i.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(i,o.Component,{name:"BiopageContentManagerModel",getBioPageRoute:"ChatBioPage/Get",isOverlay:!1,init:function(e,t){i.superclass.init.call(this,e,t),this.addEvents(a.BiopageContentManagerModel.EVENT_GET_CONTENT_SUCCESS,a.BiopageContentManagerModel.EVENT_GET_CONTENT_ERROR)},_getContentUrl:function(e){var t;try{t=o.getUrl(this.getBioPageRoute,{performerNick:e})}catch(e){console.error("@JS ERROR in ",this.name,": ",e)}return t},getContent:function(e){if(!e)throw"Modelname must be given.";return this._runningAjax=r.request({url:this._getContentUrl(e),method:"GET",type:a.Chaos.Connection.TYPE_JSON,scope:this,success:function(e){this._getContentSuccess(e)},error:function(e){this._getContentError(e)},failure:function(e){this._getContentError(e)}}),this},_getContentSuccess:function(e){delete this._runningAjax,this.fireEvent(a.BiopageContentManagerModel.EVENT_GET_CONTENT_SUCCESS,{response:e})},_getContentError:function(e){delete this._runningAjax,this.fireEvent(a.BiopageContentManagerModel.EVENT_GET_CONTENT_ERROR,{response:e})}})},c5ca:function(e,t,n){var o=n("3414"),a=n("d869"),r=n("f306"),i=n("1a5f"),s=n("ee27"),l=n("5f9e"),c=n("7ab0"),u=n("98d2").default,p=n("a9a1").store,h=function(e,t){h.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(h,o.Component,{name:"Wall",perfNameId:"perfId",showMoreId:"show_more",loaderId:"show_more_loader",wallListItemSel:"ul li",showMoreRoute:"Wall/GetWallPage",parentId:"parentId",childId:"childId",postSel:".post.message",postFormId:"wall_form",postFormCharCounterId:"post_char_number",postFormCharInfoId:"post_char_info",replyFormId:"reply_form",replyFormCharCounterId:"reply_char_number",replyFormCharInfoId:"reply_char_info",replyFormTextId:"reply_form_text",replyFormReplyInputId:"reply_form_replyId",charInfoSel:".char_info_bottom",writingCls:"write",formMaskCls:"form_mask",postCls:"post message",answerCls:"answer",enableCls:"enabled",firstAnswerCls:"first",formTokenName:"form_token",itemTemplate:'<li id="item_{itemId}" class="{cls}"><strong data-hj-suppress>{memberId}</strong><span class="time"><em>&nbsp;</em>{date}</span><div class="reply"><a href="#"><em>&nbsp;</em></a><strong>{replyTranslate}</strong></div><p>{text}</p></li>',errorTemplate:'<div class="bottom_warning_tag show"><span class="arrow">&nbsp;</span><span class="icon">&nbsp;</span><p>{errorText}</p></div>',antiFloodTimeout:5e3,preventFlooding:!0,maxCharLimitNumber:140,noWallPostSel:".no_wall_posts",bottomWarningTagCls:"bottom_warning_tag",maximumCharacterReachedText:"You've reached the maximum length of this message ({maxCharLimitNumber} characters).",errorDuringMessagesSendText:"Unable to send your message. Please try again later!",spamErrorDuringMessagesSendText:"Banned word detected.",newlyCreatedMessageText:"Less than a minute ago",replyText:"Reply",init:function(e,t){this._maxCharTextTranslate=o.translate(this.maximumCharacterReachedText,{maxCharLimitNumber:this.maxCharLimitNumber}),this._showMoreEl=Ext.get(this.showMoreId),this._loaderEl=Ext.get(this.loaderId),this._performerId=Ext.get(this.perfNameId).dom.value,this._mainFormEl=Ext.get(this.postFormId),this._formMaskEl=this.element.select("."+this.formMaskCls),this._replyFormTextEl=Ext.get(this.replyFormTextId),this._formInputEl=this._mainFormEl.select('input[type="text"]').item(0),this._postFormCmp=new r(this.postFormId,{scope:this,isAjax:!0,handleToken:!0,tokenFieldName:this.formTokenName,showErrorsOnEdit:!1,showErrorsPos:"bottom",disableSubmitOnSubmit:!0,disabledOnEnter:!0,success:this.onPostSuccess,error:this.onPostError,generalErrorSel:"."+this.bottomWarningTagCls,errorNodeClass:this.bottomWarningTagCls,useModalForGeneralErrors:!1,rules:{}}),this._postFormCmp.on("inputFocus",this.onInputFocus,this),this._postFormCmp.on("inputBlur",this.onInputBlur,this),o.on(this._formMaskEl,"click",this.onFromMaskClick,this),this._postFormCharacterCounter=new i(this.postFormId,{maxChar:this.maxCharLimitNumber,hasWarningLimit:!1,inputId:this._formInputEl,counterId:this.postFormCharCounterId,charInfoId:this.postFormCharInfoId,maxCharText:this._maxCharTextTranslate}),this._postFormCharacterCounter.on(a.CharacterCounter.EVENT_MAX_CHAR_LIMIT_REACHED,this.onMaxCharLimitReached,this),this._replyFormEl=Ext.get(this.replyFormId),this._replyInputEl=this._replyFormEl.select('input[type="text"]').item(0),this._replyIdHiddenInputEl=this._replyFormEl.select("#"+this.replyFormReplyInputId).item(0),this._replyFormCmp=new r(this.replyFormId,{scope:this,isAjax:!0,handleToken:!0,tokenFieldName:this.formTokenName,showErrorsOnEdit:!1,showErrorsPos:"bottom",disableSubmitOnSubmit:!0,disabledOnEnter:!0,success:this.onReplySuccess,error:this.onReplyError,generalErrorSel:"."+this.bottomWarningTagCls,errorNodeClass:this.bottomWarningTagCls,useModalForGeneralErrors:!1,rules:{}}),this._replyFormCmp.on("submit",this.onReplySubmit,this),this._replyFormCmp.on("inputBlur",this.onInputBlur,this),this._replyFormCharacterCounter=new i(this.replyFormId,{maxChar:this.maxCharLimitNumber,hasWarningLimit:!1,inputId:this._replyInputEl,counterId:this.replyFormCharCounterId,charInfoId:this.replyFormCharInfoId,maxCharText:this._maxCharTextTranslate}),this._replyFormCharacterCounter.on(a.CharacterCounter.EVENT_MAX_CHAR_LIMIT_REACHED,this.onMaxCharLimitReached,this),this.preventFlooding&&(this._antiFloodTask=new Ext.util.DelayedTask(this.disableForm,this,[!1])),this.hideReplyForm(),h.superclass.init.call(this,e,t)},onMaxCharLimitReached:function(e){var t=e.element||e.scope.element;t&&t.select(this.charInfoSel).show()},onLoggedIn:function(e){var t=e.response,n=u.getUserType(t.jsm2sessionId);this._mainFormEl.dom.action=s.insertMemberType(n,this._mainFormEl.dom.action),this._replyFormEl.dom.action=s.insertMemberType(n,this._replyFormEl.dom.action),this.changeTokens({json:t}),n===h.USERTYPE_MEMBER&&(this.element.addClass(this.enableCls),this._mainFormEl.fadeIn())},getUserNick:function(){return p.getState().user.nick},onPostSuccess:function(e,t){if(t.json.data.messageId){var n,a=new Ext.Template(this.itemTemplate),r=this.element.select(this.noWallPostSel);void 0===this._memberId&&(this._memberId=this.getUserNick()),this.changeTokens(t);var i={itemId:t.json.data.messageId+"_"+t.json.data.messageId,cls:this.postCls,memberId:this._memberId,text:c.escapeHTML(t.json.data.text)||c.escapeHTML(this._formInputEl.dom.value),date:o.translate(this.newlyCreatedMessageText),replyTranslate:o.translate(this.replyText)};0===this.element.select("ul").getCount()?(Ext.DomHelper.append(this.element,'<ul></ul><div class="clear"></div>'),n=a.append(this.element.select("ul").item(0),i)):n=a.insertBefore(this.element.select(this.wallListItemSel).item(0),i),this._formInputEl.dom.value="",o.on(Ext.get(n),"click",this.onItemClick,this),this._formInputEl.blur(),this.preventFlooding&&this.disableForm(!0),this._postFormCharacterCounter&&this._postFormCharacterCounter.resetCounter(),this._selectedItem=void 0,r&&r.remove()}},onPostError:function(e){var t=new Ext.Template(this.errorTemplate),n="spam"===e.json.error_type,a=o.translate(n?this.spamErrorDuringMessagesSendText:this.errorDuringMessagesSendText);this._errorEl=t.append(this.postFormId,{errorText:a},!0),this._postFormCharacterCounter&&this._postFormCharacterCounter.resetCounter()},onItemClick:function(e){e.stopPropagation(),e.preventDefault();var t=Ext.get(e.target);this.hideErrors(),this._replyFormCharacterCounter&&this._replyFormCharacterCounter.resetCounter(),"li"!==t.dom.nodeName.toLowerCase()&&(t=Ext.get(t.findParent("li"))),this.element.hasClass(this.enableCls)?(void 0!==this._selectedRow&&this._selectedRow.removeClass(this.writingCls),this._selectedRow=t,this._selectedRow.hasClass(this.writingCls)||(this._selectedRow.addClass(this.writingCls),this._replyFormEl.setStyle("display","table"),this._replyFormEl.setTop(this._selectedRow.dom.offsetTop+this._selectedRow.dom.offsetHeight-this._replyFormTextEl.getHeight()),this._replyInputEl.dom.value=""),void 0!==this._selectedItem&&this._selectedItem===t||(this._selectedItem=t,this._replyInputEl.focus())):this.showWarningTooltip(t)},showWarningTooltip:function(e){var t;e.dom?t=e:"form"!==(t=Ext.get(e.target)).dom.nodeName.toLowerCase()&&(t=Ext.get(t.findParent("form"))),this.element.select("dfn").setStyle("opacity",0),t.select("dfn").item(0).setStyle("opacity",1)},onFromMaskClick:function(e){this.element.hasClass(this.enableCls)||this.showWarningTooltip(e)},onInputFocus:function(){this.hideErrors(),this.resetSelectedRow()},onInputBlur:function(){this.hideErrors()},hideErrors:function(){this._errorEl&&(this._errorEl.remove(),delete this._errorEl)},resetSelectedRow:function(){Ext.isDefined(this._selectedRow)&&(this._selectedRow.removeClass(this.writingCls),this.hideReplyForm(),this._selectedItem=void 0)},hideReplyForm:function(){this._replyFormEl&&this._replyFormEl.setStyle("display","none")},onReplySubmit:function(){this._replyIdHiddenInputEl.dom.value=this._selectedRow.dom.id.split("_")[1]},onReplySuccess:function(e,t){if(t.json.data.messageId){void 0===this._memberId&&(this._memberId=this.getUserNick()),this.changeTokens(t),null===this._selectedRow.next()&&this._showMoreEl&&(this._showMoreEl.dom.href=this._showMoreEl.dom.href.split(this.childId)[0]+this.childId+"="+t.json.data.messageId),this._selectedRow.next()&&this._selectedRow.next().hasClass(this.firstAnswerCls)&&this._selectedRow.next().removeClass(this.firstAnswerCls);var n=new Ext.Template(this.itemTemplate).insertAfter(this._selectedRow,{itemId:t.json.data.messageId+"_"+this._replyIdHiddenInputEl.dom.value+"_"+t.json.data.messageId,cls:this.answerCls+" "+this.firstAnswerCls,memberId:this._memberId,text:t.json.data.text||c.escapeHTML(this._replyInputEl.dom.value),date:o.translate(this.newlyCreatedMessageText)});Ext.DomHelper.append(n,'<div class="fade"></div><div class="line"></div>'),this._replyInputEl.dom.value="",this._replyIdHiddenInputEl.dom.value="",this.resetSelectedRow(),this.preventFlooding&&this.disableForm(!0),this._replyFormCharacterCounter&&this._replyFormCharacterCounter.resetCounter(),this._selectedItem=void 0}},onReplyError:function(e){var t=new Ext.Template(this.errorTemplate),n="spam"===e.json.error_type,a=o.translate(n?this.spamErrorDuringMessagesSendText:this.errorDuringMessagesSendText);this._errorEl=t.append(this.replyFormId,{errorText:a},!0)},changeTokens:function(e){this._postFormCmp.changeToken(e),this._replyFormCmp.changeToken(e)},onShowMoreClick:function(e){e.stopPropagation(),e.preventDefault(),this._showMoreEl.setStyle({display:"none"}),this._loaderEl.setStyle({display:"block"});var t=this._showMoreEl.dom.href.split(this.parentId+"=")[1].split("&")[0],n=this._showMoreEl.dom.href.split(this.childId+"=")[1].split("&")[0];l.request({scope:this,type:"json",method:"GET",url:o.getUrl(this.showMoreRoute,{performerId:this._performerId},{parentId:t,childId:n}),success:this.onShowMoreSuccess,error:function(){},failure:function(){}})},onShowMoreSuccess:function(e){if(this._loaderEl.setStyle({display:"none"}),this._showMoreEl.setStyle({display:"inline-block"}),Ext.DomHelper.append(this.element.select("ul").item(0),e.json.data.content),e.json.data.isLastPage)this._showMoreEl.remove();else{var t=this.element.select("li"),n=t.item(t.getCount()-1).dom.id.split("_")[2],o=t.item(t.getCount()-1).dom.id.split("_")[3];this._showMoreEl.dom.href=this._showMoreEl.dom.href.split("?")[0]+"?parentId="+n+"&childId="+o}},disableForm:function(e){e&&this._antiFloodTask&&this.preventFlooding&&this._antiFloodTask.delay(this.antiFloodTimeout),this._postFormCmp.disableForm(e),this._replyFormCmp.disableForm(e)},bind:function(){o.Broadcaster.on(a.BasicController.GLOBALEVENT_LOGGED_IN,this.onLoggedIn,this),o.on([{element:this.element,event:"click",handler:this.onItemClick,options:{delegate:this.postSel}}],this),this._showMoreEl&&o.on(this._showMoreEl,"click",this.onShowMoreClick,this),h.superclass.bind.call(this)},unbind:function(){o.Broadcaster.un(a.BasicController.GLOBALEVENT_LOGGED_IN,this.onLoggedIn,this),this._postFormCmp&&(this._postFormCmp.un("inputFocus",this.onInputFocus,this),this._postFormCmp.un("inputBlur",this.onInputBlur,this)),this._postFormCharacterCounter&&this._postFormCharacterCounter.un(a.CharacterCounter.EVENT_MAX_CHAR_LIMIT_REACHED,this.onMaxCharLimitReached,this),this._replyFormCmp&&(this._replyFormCmp.un("submit",this.onReplySubmit,this),this._replyFormCmp.un("inputBlur",this.onInputBlur,this)),this._replyFormCharacterCounter&&this._replyFormCharacterCounter.un(a.CharacterCounter.EVENT_MAX_CHAR_LIMIT_REACHED,this.onMaxCharLimitReached,this),h.superclass.unbind.call(this)}})},c841:function(e,t,n){var o=n("3414"),a=n("d869"),r=n("a9a1").store,i=n("06af").removePerformerFromHistory,s=function(e,t){s.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(s,o.Controller,{name:"BiopageContentManagerController",isBeingDestroyed:!1,init:function(e,t){s.superclass.init.call(this,e,t),this.addEvents(a.BiopageContentManagerController.EVENT_RENDER_DONE,a.BiopageContentManagerController.GLOBALEVENT_GET_CONTENT_SUCCESS)},getContent:function(){return this.BiopageContentManagerView.showLoader(!0),this.BiopageContentManagerModel.getContent(r.getState().performer.nick),this},removeContent:function(){this.BiopageContentManagerView.removeContent()},scrollToBioPageTop:function(){this.BiopageContentManagerView.scrollToBioPageTop()},onGetContentSuccess:function(e){if(o.fireEvent(a.BiopageContentManagerController.GLOBALEVENT_GET_CONTENT_SUCCESS,{scope:this}),!this.isBeingDestroyed){if(!e.response.json.data.content)throw"There is no HTML content to render.";this.BiopageContentManagerView.showLoader(!1),this.BiopageContentManagerView.renderContent(e.response.json.data.content)}},onGetContentError:function(){r.dispatch(i(r.getState().performer.nick));var e=o.getUrl("Error/Error404");document.location.replace(e)},onRenderDone:function(){this.fireEvent(a.BiopageContentManagerController.EVENT_RENDER_DONE)},onPrivateStart:function(){this.BiopageContentManagerView.showMask()},onPrivateEnd:function(){this.BiopageContentManagerView.hideMask()}})},ebf9:function(e,t,n){e.exports={item:"_2PQ6U3g4DP9n",ribbon:"pqAboXabGFNk",note:"iZ7iWLfq5dvm _2PQ6U3g4DP9n",text:"Hw1u12h2bK17",folder:"_1ST8sRGt33V5",video_icon:"_3aQxkOEt0mqA",size_1:"_6MomQlJ67n90 Hw1u12h2bK17",size_2:"Flty8PKXzCGh Hw1u12h2bK17",size_3:"_34ilHR_clcJM Hw1u12h2bK17",size_4:"_3fawdDWAUbYG Hw1u12h2bK17",size_5:"JFahBDPFLRo8 Hw1u12h2bK17",size_6:"_2PnqbzGqqFAj Hw1u12h2bK17",cover:"_2tcToElX4tZo",content:"_3JXQplyFPYXU",album:"BWY-bIw0-IET",unlocked:"_2xx4BDi9gn7F",title:"_1gEHZDSntifk",locked:"_37fzg6t5Agco",free:"_3r3eUi9eNiKN",video:"_3JJeA8PpiGIu",info:"_2B90gWWEdijW",views:"_2d4V80ak21Os",duration:"Balwx4gRvISY",price:"_3QPXc6NEAbbB",count:"_3vmwhYQLfNHB",status:"_1VPMu0Ls32p_",label:"_2cO6UIO5LEC7",rating:"v0BTCifWyVUE",picture:"oW4_QsDlJZ5W",montage:"gzRi53oWUQVq",montage_one_pic:"eR-K6ucOU85- gzRi53oWUQVq",montage_two_pic:"_1CZJGBdxF3Rw gzRi53oWUQVq",montage_three_pic:"_2HriMA-x_2E7 gzRi53oWUQVq",montage_four_pic:"J4m8ILuch72I gzRi53oWUQVq"}}}]);