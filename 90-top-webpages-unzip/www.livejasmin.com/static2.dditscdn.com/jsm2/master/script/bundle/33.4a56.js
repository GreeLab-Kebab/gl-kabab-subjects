(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"124a":function(e,t,n){var o=n("3414"),r=n("d869"),i=n("4cfc"),s=n("a4c0"),a=function(e,t){a.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(a,o.Component,{name:"MyContentSelectComponent",view:void 0,controller:void 0,init:function(e,t){a.superclass.init.call(this,e,t),o.addEvents(r.MyContentSelectComponent.GLOBALEVENT_REFRESH_LISTPAGE,r.MyContentSelectComponent.EVENT_SUCCESS_REFRESH_LISTPAGE),this._setMyContentSelectController()},_setMyContentSelectView:function(){return this.view instanceof i||(this.view=new i({element:this.element})),this.view},_setMyContentSelectController:function(){this.controller instanceof s||(this.controller=new s({init:function(){},items:{view:{component:this._setMyContentSelectView(),listeners:{"dropdown-menu-item-click":"onDropDownMenuItemClick","dropdown-menu-visibility-change":"onDropDownMenuVisibilityChange","dropdown-menu-background-show":"onDropdownMenuBackgroundShow","dropdown-menu-background-hide":"onDropdownMenuBackgroundHide"}}}}))}})},4388:function(e,t){var n="can_use_webp";!function(){if(window.localStorage&&"object"==typeof localStorage&&(!localStorage.getItem(n)||"available"!==localStorage.getItem(n)&&"disable"!==localStorage.getItem(n))){var e=document.createElement("img");e.onload=function(){try{localStorage.setItem(n,"available")}catch(e){}},e.onerror=function(){try{localStorage.setItem(n,"disable")}catch(e){}},e.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAsAAAABBxAREYiI/gcAAABWUDggGAAAADABAJ0BKgEAAQABABwlpAADcAD+/gbQAA=="}}(),e.exports=function(){return!!window.localStorage&&"available"===window.localStorage.getItem(n)}},"4cfc":function(e,t,n){var o=n("1096"),r=function(e){r.superclass.constructor.call(this,e)};e.exports=Ext.extend(r,o,{name:"MyContentSelectView"})},5675:function(e,t,n){var o=n("3414"),r=n("1096"),i=function(e){i.superclass.constructor.call(this,e)};e.exports=Ext.extend(i,r,{name:"RefreshByOrderView",isSetMenuTitleToCurrent:!0,getAction:function(e){return e.item.getAttribute(this.actionAttribute)},setToSelectedFilterItem:function(e){var t=document.getElementById(e),n=this.getMenuItemEl(t);n&&(this.setMenuItemsVisibility(n),this.setMenuTitleToCurrent(n))},bind:function(){i.superclass.bind.call(this),o.on([{element:o.Broadcaster,event:"set-selected-order-item",handler:this.setToSelectedFilterItem}],this)}})},"8e02":function(e,t,n){"use strict";n.r(t);var o=n("3414"),r=n.n(o),i=n("d869"),s=n.n(i),a=n("7ab0"),c=n.n(a),l=n("1e4a"),u=n("d7c3"),d=n.n(u),h=n("124a"),f=n.n(h),m=n("990a"),g=n.n(m),p=n("0592"),C=n("8af1"),y=n.n(C),E=n("63f1"),_=n.n(E),b=n("0a81"),v=n("a9a1"),w=n("8a2d"),S=function(e){var t=e.performerId,n=e.performerData,r=n.status,i=n.nick,s=n.url,a=void 0===s?o.Config.get("newPerformerImageSmall"):s;return y.a.createElement("div",{"data-status":r,"data-performer-id":t},y.a.createElement("a",{href:Object(o.getUrl)("Chat/Performer",{performerId:i}),title:i},y.a.createElement("span",{className:"pic"},y.a.createElement("i",{style:{backgroundImage:"url(".concat(a,")")}})),y.a.createElement("span",{className:"name"},i),y.a.createElement("span",{className:"status"},"â€¢")))};S.propTypes={performerId:w.string.isRequired,performerData:Object(w.shape)({nick:w.string,status:w.number,url:w.string}).isRequired};var A=Object(b.b)(function(e,t){var n=e.user,o=t.performerId;return{performerData:n.viewedChatHistory.allData[o]}})(S),I=Object(b.b)(function(e){return{viewedChatHistory:e.user.viewedChatHistory}})(function(e){var t=e.viewedChatHistory,n=t.allIds;t.allData;return n.map(function(e){return y.a.createElement(A,{key:e,performerId:e,"data-testid":"PerformerHistoryPerformerHistoryItem"})})}),k=n("a5f8"),B=n("06af");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function P(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e,t,n){return(D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),P(this,T(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,l["default"]),n=t,(o=[{key:"init",value:function(e,n){c.a.isHokkaido()&&_.a.render(y.a.createElement(b.a,{store:v.store},y.a.createElement(I,null)),document.querySelector(".sidebar_history")),this._sidebarCategories=Ext.getBody().select(".sidebar_categories").item(0),this._activeCategoryTab=this._sidebarCategories&&this._sidebarCategories.data("activetab"),this._setOrderComponent(),this._setSelectComponent(),this._setLanguageComponent(),D(T(t.prototype),"init",this).call(this,e,n),this.showMoreJson=r.a.Config.get("listPageRoutes").showMoreJson||"Index/ShowMoreJson"}},{key:"_setOrderComponent",value:function(){return this._refreshContentByOrderCmp instanceof d.a||!Ext.get(this.orderDropDownId)||(this._refreshContentByOrderCmp=new d.a(this.orderDropDownId,{hideCls:this.hideCls})),this._refreshContentByOrderCmp}},{key:"_setSelectComponent",value:function(){return this._myContentSelectCmp instanceof f.a||!Ext.get(this.myContentDropDownId)||(this._myContentSelectCmp=new f.a(this.myContentDropDownId,{})),this._myContentSelectCmp}},{key:"_setLanguageComponent",value:function(){return this._languageSelectCmp instanceof f.a||!Ext.get(this.languageDropDownId)||(this._languageSelectCmp=new f.a(this.languageDropDownId,{})),this._languageSelectCmp}},{key:"_destroyOrderComponent",value:function(){this._refreshContentByOrderCmp&&(this._refreshContentByOrderCmp.controller.destroy(),delete this._refreshContentByOrderCmp.controller,this._refreshContentByOrderCmp.destroy(),delete this._refreshContentByOrderCmp)}},{key:"onToggleSidebarButtonClick",value:function(e,t){Ext.getBody().toggleClass("sidebar-closed"),Ext.get(t).toggleClass("open"),r.a.fireEvent(s.a.IndexIndex.GLOBALEVENT_TOGGLE_SIDEBAR_BUTTON_CLICK,this)}},{key:"onSidebarCategoryClick",value:function(e){var t=e.getTarget(".category_item",4,!0);(t.data("tabid")===this._activeCategoryTab||t.hasClass("history"))&&e.preventDefault(),t.hasClass("history")?0===v.store.getState().user.viewedChatHistory.allIds.length?r.a.fireEvent(s.a.TooltipView.EVENT_SHOW_TOOLTIP,{element:t.dom,attributes:{title:r.a.translate("Your history is empty."),size:"tiny",autoHide:4e3,position:"bottom",trigger:"sticky"}}):Ext.getBody().toggleClass("history-open"):Ext.getBody().removeClass("history-open")}},{key:"onLogIn",value:function(){this._destroyOrderComponent(),this._setOrderComponent()}},{key:"onSidebarHistoryItemClick",value:function(e){e.preventDefault();var t=e.getTarget("a",5,!0);p.default.navigateToChatPage("chat/"+t.attr("title"),{trigger:!0,preventNavigateBack:!0})}},{key:"synchronizePerformerHistory",value:function(){v.store.dispatch(Object(B.synchronizePerformerHistory)(Object(k.a)()))}},{key:"bind",value:function(){D(T(t.prototype),"bind",this).call(this),r.a.on([{element:r.a.Broadcaster,event:s.a.LoginComponent.GLOBALEVENT_LOG_IN,handler:this.onLogIn,scope:this},{element:this.element,event:"click",handler:this.onToggleSidebarButtonClick,options:{delegate:this.toggleSidebarButton}},{element:this.element,event:"click",handler:this.onSidebarCategoryClick,options:{delegate:this.sidebarCategorySel}},{element:Ext.fly(window),event:"focus",handler:this.synchronizePerformerHistory,scope:this}],this);var e=Ext.getBody().select(".sidebar_history").item(0);c.a.isHokkaido()&&e&&r.a.on([{element:e,event:"click",handler:this.onSidebarHistoryItemClick,options:{delegate:"a"}}],this)}},{key:"name",get:function(){return"ListPageIndex"}},{key:"listPageComponentName",get:function(){return g.a}},{key:"hideCls",get:function(){return c.a.isHokkaido()?"hide":"selected"}},{key:"orderDropDownId",get:function(){return"order_dropdown"}},{key:"myContentDropDownId",get:function(){return"category_dropdown"}},{key:"languageDropDownId",get:function(){return"language_dropdown"}},{key:"isRandomPlayerEnabled",get:function(){return!0}},{key:"isPerformerSwapEnabled",get:function(){return!0}},{key:"sidebarCategorySel",get:function(){return".category_item"}},{key:"listpageContainerId",get:function(){return"listpage_container"}},{key:"toggleSidebarButton",get:function(){return".toggle_sidebar_button"}}])&&L(n.prototype,o),i&&L(n,i),t}();t.default=x},"990a":function(e,t,n){var o=n("00a1"),r=n("e91e"),i=n("fec8"),s=n("f244"),a=function(e,t){a.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(a,o,{name:"IndexListPageComponent",controllerClassName:r,viewClassName:i,modelClassName:s,listPageControllerListeners:{IndexBroadcaster:{"header-logo-click":"onHeaderLogoClick","live-cams-link-click":"onHeaderLogoClick"}},_setController:function(){a.superclass._setController.call(this),this.enablePerformerSwap()}})},"9e82":function(e,t,n){var o=n("3414"),r=n("d869"),i=n("7ab0"),s=n("b2b8"),a=function(e,t){a.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(a,s,{name:"RefreshByOrderController",init:function(e,t){a.superclass.init.call(this,e,t),this.addEvents(r.RefreshByOrderController.EVENT_GET_CONTENT_READY,r.RefreshByOrderController.GLOBALEVENT_GET_CONTENT_READY)},onDropDownMenuItemClick:function(e){var t=this.view.getAction(e);o.Config.set("listPageOrderType",t),i.isCurrentPage(r.PageId.INDEX_INDEX)||i.isCurrentPage(r.PageId.JASMIN_LIVECAMS_LISTPAGE_LIVECAMS)?o.fireEvent(r.RefreshByOrderComponent.GLOBALEVENT_REFRESH_LISTPAGE_BY_SELECTED_ORDER_AND_FILTERS):o.fireEvent(r.RefreshByOrderComponent.GLOBALEVENT_REFRESH_LISTPAGE_BY_ORDER,{orderType:t})}})},a4c0:function(e,t,n){var o=n("b2b8"),r=function(e,t){r.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(r,o,{name:"MyContentSelectController"})},d7c3:function(e,t,n){var o=n("3414"),r=n("d869"),i=n("5675"),s=n("9e82"),a=function(e,t){a.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(a,o.Component,{name:"RefreshByOrderComponent",hideCls:"hide",view:void 0,controller:void 0,init:function(e,t){a.superclass.init.call(this,e,t),o.addEvents(r.RefreshByOrderComponent.GLOBALEVENT_REFRESH_LISTPAGE_BY_ORDER,r.RefreshByOrderComponent.GLOBALEVENT_REFRESH_LISTPAGE_BY_SELECTED_ORDER_AND_FILTERS,r.RefreshByOrderComponent.EVENT_SUCCESS_REFRESH_LISTPAGE),this._setRefreshByOrderController()},_setRefreshByOrderView:function(){return this.view instanceof i||(this.view=new i({element:this.element,hideCls:this.hideCls})),this.view},_setRefreshByOrderController:function(){this.controller instanceof s||(this.controller=new s({init:function(){},items:{view:{component:this._setRefreshByOrderView(),listeners:{"dropdown-menu-item-click":"onDropDownMenuItemClick","dropdown-menu-visibility-change":"onDropDownMenuVisibilityChange","dropdown-menu-background-show":"onDropdownMenuBackgroundShow","dropdown-menu-background-hide":"onDropdownMenuBackgroundHide"}}}}))}})},e91e:function(e,t,n){var o=n("3414"),r=n("7ab0"),i=n("768e"),s=n("e781"),a=s.EVENT.MEMBER.FEEDBACK_LEVEL_CHANGED,c=function(e,t){c.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(c,i,{name:"IndexListPageController",init:function(e,t){c.superclass.init.call(this,e,t),s.getClient().on(a,o.bind(this.ListPageModel.refreshCommercial,this.ListPageModel))},onHeaderLogoClick:function(e){if(!r.isHokkaido()&&!this.ListPageModel.needPageReload()&&"0"===o.getMeta("isSearchPage")){e.preventDefault();var t={orderType:o.Config.get("listPageOrderType")};this.onRefreshListPage(t)}},onLoggedIn:function(){c.superclass.onLoggedIn.call(this),this.ListPageModel.refreshCommercial()},onSignUpSuccess:function(){c.superclass.onSignUpSuccess.call(this),this.ListPageModel.refreshCommercial()},onFirstBillComplete:function(){c.superclass.onFirstBillComplete.call(this),this.ListPageModel.refreshCommercial()},onLuckyWheelSpun:function(){c.superclass.onLuckyWheelSpun.call(this);var e=this;setTimeout(function(){e.ListPageModel.refreshCommercial()},4e3)},onCommercialCountdownEnd:function(){c.superclass.onCommercialCountdownEnd.call(this);var e=this;setTimeout(function(){e.ListPageModel.refreshCommercial()},1e3)},onAppletQuickBuySuccess:function(){this.ListPageModel.refreshCommercial()},onQuickBuySuccess:function(){c.superclass.onQuickBuySuccess.call(this);var e=document.getElementById("container_customPromoCampaign"),t=document.getElementById("container_freeUserCustomPromoCampaign");(e||t)&&this.ListPageModel.refreshCommercial()}})},f244:function(e,t,n){var o=n("3414"),r=n("9810").default,i=n("d869"),s=n("b07d"),a=function(e,t){a.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(a,s,{name:"IndexListPageModel",refreshCommercial:function(){this.fetch({url:o.getUrl(this.commercialRefreshRouting,{listPageId:o.getMeta(this.listPageId),isSearchPage:o.getMeta(this.isSearchPage)},{},""),method:"POST",success:o.bind(this._onRefreshCommercialSuccess,this)}),r.init()},_onRefreshCommercialSuccess:function(e){o.hasPath(e,"json.data")&&this.fireEvent(i.ListPageModelAbstract.EVENT_SWAPPED_COMMERCIAL,e.json.data)}})},fec8:function(e,t,n){var o=n("a7b6"),r=function(e,t){r.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(r,o,{name:"IndexListPageView"})}}]);