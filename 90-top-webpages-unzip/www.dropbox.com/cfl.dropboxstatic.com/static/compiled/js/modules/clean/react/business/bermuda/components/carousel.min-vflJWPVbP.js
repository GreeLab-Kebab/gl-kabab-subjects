define(["require","exports","tslib","react","external/classnames","modules/clean/react/business/bermuda/data/action_creators","modules/clean/react/business/bermuda/data/store","spectrum-arbor/atoms/arbor_copy"],function(e,t,a,s,i,n,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importDefault(s),i=a.__importDefault(i);var c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e,t=this.props,a=t.activeSlide,n=t.content,o=t.slideKey;return s.default.createElement("section",{className:i.default((e={"carousel-slide":!0,"carousel-slide--visible":o===a},e["carousel-slide__"+o]=!!o,e))},s.default.createElement("header",{className:"carousel-header"},s.default.createElement("img",{src:n.logo,alt:n.name,height:"75",className:"carousel-header-image"})),s.default.createElement(r.ArborCopy,{size:"standard",marginBottomSize:"small"},n.quote),s.default.createElement(r.ArborCopy,{size:"small",tag:"span"},n.attribution))},t})(s.default.PureComponent),l=(function(e){function t(t){var a=e.call(this,t)||this;a.store=o.getStoreForBusiness(),a.handleTouchStart=function(e){a.setState({startingPosition:e.touches[0].pageX})},a.handleTouchEnd=function(e){a.setState({touching:!1})},a.handleTouchMove=function(e){var t=a.state,s=t.startingPosition,i=t.touching,n=e.touches[0].pageX;if(Math.abs(n-s)>window.innerWidth/4&&i===!1){var o=n<s?"left":"right";a.handleSlideIteration(e,o),a.setState({animationPause:!0,currentPosition:e.touches[0].pageX,touching:!0})}},a.handleSlideIteration=function(e,t){void 0===t&&(t="right");var s=a.props.slides,i=Object.keys(s),o=1;o="right"===t?a.state.index<i.length?a.state.index+1:1:a.state.index<1?i.length:a.state.index-1,a.setState({index:o}),a.store.dispatch(n.setSelectedCustomer({customer:i[o]}))};var s=t.animationPause,i=t.activeSlide,r=t.slides,c=t.activeSlide||Object.keys(t.slides)[0];return Object.keys(r).forEach(function(e){1===r[e].order&&(c=e)}),a.state={index:r[i].order||1,activeSlide:c,animationPause:s||!1,currentPosition:0,startingPosition:0,touching:!1},a}return a.__extends(t,e),t.prototype.componentDidUpdate=function(e,t){var a=this,s=this.props,i=s.activeSlide,o=s.animationPause,r=s.slides;e.activeSlide!==i&&Object.keys(this.props.slides).forEach(function(e){a.props.slides[e].order===a.state.index&&(a.setState({index:a.props.slides[e].order,activeSlide:e}),a.store.dispatch(n.setSelectedCustomer({customer:e})))}),e.activeSlide!==i&&o&&Object.keys(r).forEach(function(e){r[e].order===r[i].order&&(a.setState({index:r[i].order,activeSlide:e}),a.store.dispatch(n.setSelectedCustomer({customer:e})))}),o&&this.setState({animationPause:!0})},t.prototype.render=function(){var e=this,t=this.props.slides,a=[];return Object.keys(t).forEach(function(i,n){a.push(s.default.createElement(c,{content:t[i],index:n,slideKey:i,activeSlide:e.state.activeSlide,key:"carousel-"+i+"-"+n}))}),s.default.createElement("section",{className:"carousel",onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd},s.default.createElement("div",{className:"carousel-content"},a),s.default.createElement("div",{className:i.default({"carousel-timer":!0,"carousel-timer--animated":!this.state.animationPause}),onAnimationIteration:function(){return e.handleSlideIteration()}}))},t})(s.default.Component);t.Carousel=l});
//# sourceMappingURL=carousel.min.js-vflwa2vZu.map