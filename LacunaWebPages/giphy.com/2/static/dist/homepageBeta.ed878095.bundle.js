(window.webpackJsonp=window.webpackJsonp||[]).push([["homepageBeta"],{"/fhO":function(e,t,a){"use strict";a.r(t);var n,r,i,o,s,c=a("o0o1"),l=a.n(c),u=a("HaE+"),p=a("1OyB"),d=a("vuIU"),h=a("md7G"),f=a("foSv"),g=a("Ji7U"),m=a("q1tI"),v=a.n(m),y=a("/MKj"),b=a("9C/b"),w=a("17x9"),O=a.n(w),j=a("vOnD"),x=a("cLpb"),E=a("sY+D"),k=a("bbZa"),I=a("bhEy"),_=a("NAv5"),P=a("saK6"),S=a("YA1A"),C=a("vi45"),L=a("o9Ry"),N=parseInt(L.grid12),M=j.default.div.withConfig({displayName:"day__Container",componentId:"sc-10wfw4k-0"})(["padding-bottom:20px;"]),G=Object(j.default)(I.u).withConfig({displayName:"day__Title",componentId:"sc-10wfw4k-1"})(["margin-bottom:18px;padding:0 5px;line-height:36px;padding:0;"]),T=j.default.span.withConfig({displayName:"day__Subtitle",componentId:"sc-10wfw4k-2"})(["font-family:'nexaregular',",";"],C.bodyFont),D=Object(j.default)(I.m).withConfig({displayName:"day__StoryHeader",componentId:"sc-10wfw4k-3"})(["color:",";margin-bottom:6px;padding:0;"],I.z.giphyLightGrey),F=function(e){var t=e.stories,a=void 0===t?[]:t,n=e.date,r=e.onLoadMore,i=e.autoPlay,o=Object(S.a)(n),s=Object(S.c)(n),c=o?"Today":s?"Yesterday":Object(_.format)(n,"dddd"),l=!s&&Object(_.format)(n,"MMM D");return v.a.createElement(M,null,v.a.createElement(G,null,c," ",l&&v.a.createElement(T,null,l)),v.a.createElement(D,null,o?"Latest Stories":"All Stories"),v.a.createElement(P.a,{stories:a,columns:4,width:N,onLoadMore:r,autoPlay:i,showEditMenu:!0}))},z=a("rWzK"),A=a("XTSy"),R=a("EdPA"),U=a("uKiO"),V=function(){return v.a.createElement("div",null,v.a.createElement(A.a,{title:"Trending GIFs"}),v.a.createElement(z.a,{groupId:"trending",processor:R.g,category:"home",apiKey:U.e}))},q=a("0uuS"),B=a("iGpn"),H=a("2LQa"),J=a.n(H),K=a("EEzn"),W=a("4bRF"),X=a("h9zL");a.d(t,"default",(function(){return Q}));var Z=j.default.div.withConfig({displayName:"homepage__Container",componentId:"hhqxeo-0"})(["padding-top:4px;text-align:left;"]),Y=j.default.div.withConfig({displayName:"homepage__BannerContainer",componentId:"hhqxeo-1"})(["height:96px;margin-bottom:20px;"]),Q=(n=Object(W.a)(["banner","pingback_id"]),r=Object(y.b)((function(e){return{autoPlay:Object(x.e)(e),storyGroups:Object(x.V)(e,"trending"),hasMoreStories:!!Object(x.Y)(e,"trending"),user:e.user}}),{fetchTrendingStories:E.h,fetchMoreStories:E.e}),Object(b.a)(i=n(i=r((s=o=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={dates:[],page:1,isFetching:!1},a.onLoadMore=Object(u.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.page,!t.isFetching){e.next=3;break}return e.abrupt("return");case 3:return r=a.props.fetchMoreStories,a.setState({isFetching:!0}),e.next=7,r("trending");case 7:Object(k.e)("/homepage/page/".concat(n+1)),a.setState({page:n+1,isFetching:!1});case 9:case"end":return e.stop()}}),e)}))),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchTrendingStories)()}},{key:"render",value:function(){var e=this,t=this.props,a=t.storyGroups,n=t.autoPlay,r=t.hasMoreStories,i=t.banner,o=t.user,s=t.pingbackId,c=this.state,l=c.dates,u=c.isFetching,p=l.length>0&&!u&&!r;return v.a.createElement(Z,null,i&&v.a.createElement(Y,null,v.a.createElement(K.a,i)),v.a.createElement(B.a,{fetchUrl:J()("".concat(U.a,"gifs/trending"),{api_key:U.e,limit:25,pingback_id:s}),groupId:"trending",title:"Trending Gifs",path:"/trending-gifs",height:140,styles:{margin:"25px 0 50px"},user:o,isTracking:!0,onClick:function(){Object(k.b)({category:"Homepage",action:"Click",label:"Trending Carousel"})}}),o.isStaff&&location.search.indexOf("video=1")>-1&&v.a.createElement(B.a,{fetchUrl:J()(Object(X.g)(0),{api_key:U.e}),groupId:"trendingvideos",title:"Trending Videos",path:"/trending-videos",processor:R.e,height:140,styles:{margin:"25px 0 50px"},user:o,isVideo:!0}),l.map((function(t,r){return v.a.createElement(F,{key:r,autoPlay:n,date:new Date(t),stories:a[t],onLoadMore:r!==l.length-1||p?null:e.onLoadMore})})),p&&v.a.createElement(V,null),v.a.createElement(q.a,{isFetching:u}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.storyGroups,n=t.dates,r=Object.keys(a);return r.length!==n.length?{dates:r.sort((function(e,t){return new Date(t)-new Date(e)}))}:null}}]),t}(m.PureComponent),o.propTypes={storyGroups:O.a.object,fetchTrendingStories:O.a.func.isRequired,fetchMoreStories:O.a.func.isRequired},i=s))||i)||i)||i)},AIx8:function(e,t,a){var n=a("FclV");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},FclV:function(e,t,a){(t=e.exports=a("I1BE")(!1)).i(a("Ff8r"),void 0),t.i(a("vzFC"),void 0),t.i(a("fJZ6"),void 0),t.push([e.i,"._3P2Ip_RX_38lUIswbi_aWj{padding:"+a("vzFC").locals.gridSpacing+' 0}._3P2Ip_RX_38lUIswbi_aWj:after{content:"";clear:both;display:block;width:100%}.V9Vwcopme4i9JwwBgElx8{display:block;float:left;line-height:25px}._2Msf91pRGzDHxeEritLqgR{float:right}',""]),t.locals={colors:'"shared/css/colors.css"',giphyGrey:""+a("Ff8r").locals.giphyGrey,grid:'"shared/css/grid.css"',gridSpacing:""+a("vzFC").locals.gridSpacing,typography:'"shared/css/typography.css"',sectionHeading:""+a("fJZ6").locals.sectionHeading,autoPlayLabel:""+a("fJZ6").locals.autoPlayLabel,header:"_3P2Ip_RX_38lUIswbi_aWj",label:"V9Vwcopme4i9JwwBgElx8 "+a("fJZ6").locals.sectionHeading,autoplay:"_2Msf91pRGzDHxeEritLqgR",autoplayLabel:"_7rr90APVsAHoUZKABl_nS "+a("fJZ6").locals.autoPlayLabel}},XTSy:function(e,t,a){"use strict";var n,r=a("q1tI"),i=a.n(r),o=a("AIx8"),s=a.n(o),c=a("1OyB"),l=a("md7G"),u=a("foSv"),p=a("Ji7U"),d=(a("17x9"),a("IMgn")),h=a("/MKj"),f=a("eohh"),g=Object(h.b)((function(e){return{isOn:e.autoPlay}}),{toggle:f.d})(n=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),t}(d.a))||n;g.defaultProps={onElement:i.a.createElement("i",{className:"ss-play"}),offElement:i.a.createElement("i",{className:"ss-pause"})};t.a=function(e){var t=e.title;return i.a.createElement("div",{className:s.a.header},i.a.createElement("span",{className:s.a.label},t),i.a.createElement("div",{className:s.a.autoplay},i.a.createElement("span",{className:s.a.autoplayLabel},"Auto Play"),i.a.createElement(g,null)))}},iGpn:function(e,t,a){"use strict";var n=a("o0o1"),r=a.n(n),i=a("HaE+"),o=a("1OyB"),s=a("vuIU"),c=a("md7G"),l=a("foSv"),u=a("Ji7U"),p=a("rePB"),d=a("Xp7I"),h=a.n(d),f=a("q1tI"),g=a.n(f),m=a("vOnD"),v=a("bhEy"),y=a("17x9"),b=a.n(y),w=a("xCX0"),O=function(e){var t=e.color;return g.a.createElement("svg",{width:"15px",height:"30px",viewBox:"0 0 15 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g.a.createElement("g",{stroke:"none",fill:"none"},g.a.createElement("g",{transform:"translate(-1017.000000, -82.000000)",fill:t},g.a.createElement("g",null,g.a.createElement("g",{transform:"translate(1.000000, 27.000000)"},g.a.createElement("polygon",{points:"1031 70.0000018 1030.1866 69.0556352 1018.01759 55 1016 56.888726 1027.35562 70.0000018 1016 83.111274 1018.01759 85 1030.1866 70.9443648"}))))))},j=m.default.div.withConfig({displayName:"fade-next-previous__Container",componentId:"sc-1okudgt-0"})(["width:1040px;height:","px;position:relative;overflow:hidden;"],(function(e){return e.height})),x=m.default.div.withConfig({displayName:"fade-next-previous__Navigation",componentId:"sc-1okudgt-1"})(["width:",";height:","px;position:absolute;z-index:100;display:flex;align-items:center;justify-content:flex-end;padding:0px 12px;background:linear-gradient(-90deg,rgba(18,18,18,0.75) 0%,rgba(18,18,18,0) 100%);opacity:",";transition:opacity 0.5s ease-out,width 0.5s ease-out;cursor:pointer;"],(function(e){return e.show?"50px":"0px"}),(function(e){return e.height}),(function(e){return e.show?"1":"0"})),E=Object(m.default)(x).withConfig({displayName:"fade-next-previous__Previous",componentId:"sc-1okudgt-2"})(["left:0;transform:rotate(180deg);"]),k=Object(m.default)(x).withConfig({displayName:"fade-next-previous__Next",componentId:"sc-1okudgt-3"})(["right:0;"]),I=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={showNext:!1,showPrevious:!1,fullWidth:0,hoverNext:!1,hoverPrevious:!1,pageOffsets:[],currentPage:0},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){e.items!==this.props.items&&this.fitItems(!0),e.scrollLeft!==this.props.scrollLeft&&this.fitItems(!1)}},{key:"fitItems",value:function(e){var t=this.props,a=t.height,n=t.width,r=t.items,i=void 0===r?[]:r,o=t.margin,s=void 0===o?6:o,c=t.scrollLeft,l=void 0===c?0:c,u=t.isVideo,p=void 0!==u&&u,d=this.state,h=d.fullWidth,f=d.pageOffsets,g=[],m=0,v=0;if(e){var y=0;g.push(0),i.forEach((function(e){var t=p?a*(16/9)+s:e.images.original.width*a/e.images.original.height+s;if(y+t<n)y+=t;else{var r=g[g.length-1]+Math.floor(y);g.push(r),y=t}m+=t})),g.push(g[g.length-1]+Math.floor(y))}else g=f,m=h;g.forEach((function(e,t){e<=l&&(v=t)})),this.setState({pageOffsets:g,fullWidth:m,currentPage:v,showNext:Math.floor(m-l-n)>0,showPrevious:l>0})}},{key:"navigate",value:function(e){var t=this.props,a=t.scrollLeft,n=t.setScrollLeft,r=t.width,i=this.state,o=i.currentPage,s=i.pageOffsets,c=i.fullWidth,l=o+e;if(l>-1&&l<s.length){var u=s[l];n(Math.min(u,c-r),a)}}},{key:"hover",value:function(e,t){this.setState(Object(p.a)({},e,t))}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.height,r=this.state,i=r.showPrevious,o=r.showNext,s=r.hoverPrevious,c=r.hoverNext;return g.a.createElement(j,{height:n},g.a.createElement(E,{onClick:function(){return e.navigate(-1)},show:i,height:n,onMouseEnter:function(){return e.hover("hoverPrevious",!0)},onMouseLeave:function(){return e.hover("hoverPrevious",!1)}},g.a.createElement(O,{color:s?v.z.giphyWhite:v.z.giphyLightGrey})),g.a.createElement(k,{onClick:function(){return e.navigate(1)},show:o,height:n,onMouseEnter:function(){return e.hover("hoverNext",!0)},onMouseLeave:function(){return e.hover("hoverNext",!1)}},g.a.createElement(O,{color:c?v.z.giphyWhite:v.z.giphyLightGrey})),a)}}]),t}(f.PureComponent);I.propTypes={items:b.a.arrayOf(w.a),width:b.a.number,height:b.a.number,isVideo:b.a.bool};var _,P,S,C,L=a("jBXu"),N=a("9C/b"),M=a("a0ZI"),G=a("/MKj"),T=a("cLpb"),D=a("EdPA"),F=a("bl0k");function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}a.d(t,"a",(function(){return q}));var A=m.default.a.withConfig({displayName:"click-and-scroll-carousel__Title",componentId:"sc-1tcjq2m-0"})(["display:flex;align-items:flex-start;"]),R=Object(m.default)(v.m).withConfig({displayName:"click-and-scroll-carousel__CarouselHeader",componentId:"sc-1tcjq2m-1"})(["color:",";margin-bottom:6px;"],v.z.giphyLightGrey),U=Object(m.default)(R).withConfig({displayName:"click-and-scroll-carousel__CarouselHeaderLink",componentId:"sc-1tcjq2m-2"})(["cursor:pointer;text-transform:capitalize;margin-left:auto;"]),V=m.default.div.withConfig({displayName:"click-and-scroll-carousel__Arrow",componentId:"sc-1tcjq2m-3"})(["display:inline-block;font-size:11px;margin-left:3px;"]),q=(_=Object(G.b)((function(e,t){var a=t.groupId,n=t.scheduled;return{gifs:h()(Object(T.B)(e,a).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{},{is_scheduled:n})})),25),responseId:Object(T.R)(e,"trending")}}),{fetchGifsFromUrl:M.e}),Object(N.a)(P=_((C=S=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={scrollPosition:0},a.setScrollLeft=function(e,t){void 0!==t?Object(L.tween)({from:{x:t},to:{x:e},duration:700,easing:"easeInOutQuart",step:function(e){return a.setState({scrollPosition:e.x})}}):a.setState({scrollPosition:e})},a.saveRef=function(e){a.savedRef=e},a}var a;return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:(a=Object(i.a)(r.a.mark((function e(){var t,a,n,i,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,a=t.fetchGifsFromUrl,n=t.fetchUrl,i=t.groupId,o=t.apiKey,s=t.processor,a(n,{groupId:i,report:!1,processor:s||D.g,apiKey:o});case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e,t){var a=this.state.scrollPosition;t.scrollPosition!==a&&(this.savedRef.scrollLeft=a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.gifs,n=t.width,r=void 0===n?1040:n,i=t.height,o=void 0===i?100:i,s=t.path,c=t.title,l=t.styles,u=t.groupId,p=t.responseId,d=t.isVideo,h=t.isTracking,f=t.history.push,m=t.onClick,v=this.state.scrollPosition;return g.a.createElement("div",{style:l},g.a.createElement(A,{href:s},c&&g.a.createElement(R,null,c),g.a.createElement(U,null,"See All ",g.a.createElement(V,{className:"ss-icon ss-navigateright"}))),g.a.createElement(I,{width:r,height:o,items:a,setScrollLeft:this.setScrollLeft,scrollLeft:v,isVideo:d},g.a.createElement(F.a,{gifs:a,height:o,rendition:"fixed_width",showTags:!1,hideLock:!0,onClick:d?void 0:function(e,t){e.preventDefault(),f(t.path,{groupId:u}),m&&m(e,t)},onScroll:function(t){return e.setScrollLeft(t.target.scrollLeft)},saveRef:this.saveRef,responseId:p,isTracking:h,isVideo:d})))}}]),t}(f.PureComponent),S.propTypes={gifs:b.a.arrayOf(w.a),fetchUrl:b.a.string,groupId:b.a.string,width:b.a.number,height:b.a.number,title:b.a.string,path:b.a.string,scheduled:b.a.bool,isTracking:b.a.bool,apiKey:b.a.string,processor:b.a.func,onClick:b.a.func},P=C))||P)||P)}}]);
//# sourceMappingURL=homepageBeta.ed878095.bundle.js.map